<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>M.Hiroi's Home Page / Scala Programming</title>
  <meta name="description" content="Scala,Scala入門">
  <link rel="stylesheet" type="text/css" href="../home_styles.css">
</head>
<body><!-- geoguide start --><div align=center><script language="javascript">var jps=382116062;var jpt=1550881752</script><script language="javascript" src="http://bc-geocities.yahoo.co.jp/js/gg.js"></script></div><!-- geoguide end -->
M.Hiroi's Home Page
<div class="small">
http://www.geocities.jp/m_hiroi/
</div>
<div class="ce">
<h1>Scala Programming</h1>
</div>
<div class="small">
[ <a href="../index.html">Home</a> | <a href="index.html">Java</a> ]
<hr>
</div>
<section class="contents">
<h2>WHAT'S NEW</h2>
<ul>
  <li>2014/11/01 <a href="scala.html#new">Scala 入門 : 自分型アノテーションと構造的部分型, ヒープ</a> を追加
  <li>2014/10/26 <a href="scala.html#yasp">Yet Another Scala Problems (7)</a> を追加
</ul>
<hr>
<h2>CONTENTS</h2>
<ul>
  <li><a href="scala.html#abc">お気楽 Scala プログラミング入門</a>
  <li><a href="scala.html#yasp">Yet Another Scala Problems</a>
  <li><a href="scala.html#cite">参考 URL</a>
  <li><a href="scala.html#copyright">権利・免責事項など</a>
</ul>
<hr>
<h2 id="abc">お気楽 Scala プログラミング入門</h2>
<h3>CONTENTS</h3>
<ul>
  <li>2014/07/20 <a href="scala.html#begin">はじめに</a>
  <li>2014/07/20 <a href="scala01.html">Scala の基礎知識</a><br>
使ってみよう、整数と浮動小数点数、算術演算子、比較演算子、論理演算子、文字と文字列、変数、条件分岐、while による繰り返し、for による繰り返し、FizzBuzz 問題、オブジェクト指向の簡単な説明、実行結果、素因数分解、数値積分 (πの計算)
  <li>2014/07/21 <a href="scala02.html">Scala の基礎知識 (2)</a><br>
関数の基礎知識、関数の定義方法、局所変数と大域変数、局所変数の定義と有効範囲、整数の和、局所関数の定義、累乗の計算、配列、統計量の計算、素数を求める、エラトステネスの篩、値呼びと参照呼び、可変長引数、デフォルト引数、名前付き引数
  <li>2014/07/26 <a href="scala03.html">再帰定義</a><br>
再帰定義の基本、再帰定義のポイント、ユークリッドの互除法、フィボナッチ関数、末尾再帰、二重再帰を末尾再帰に変換する、末尾再帰を繰り返しに変換する、相互再帰
  <li>2014/07/26 <a href="scala03.html#chap02">高階関数</a><br>
関数を引数にとる関数、多相性、データの探索、無名関数、カリー化、部分適用、関数の合成
  <li>2014/07/27 <a href="scala04.html">リスト</a><br>
リストの構造、リストの生成と参照、リストの合成と分解、再帰定義によるリスト操作、リストの連結、リストの反転、リストの探索、Option、タプル (Tuple)
  <li>2014/07/27 <a href="scala04.html#chap02">パターンマッチング</a><br>
val や var でのパターンマッチング、match 式、リストのパターンマッチング、Option のパターンマッチング、連想リスト、挿入ソート
  <li>2014/08/02 <a href="scala05.html">高階関数 (2)</a><br>
マッピング、プレースホルダー、フィルター、畳み込み、畳み込みの使用例、foreach、for 内包表記、クイックソート、クイックソートの弱点、リストの平坦化
  <li>2014/08/02 <a href="scala05.html#chap02">レキシカルスコープとクロージャ</a><br>
レキシカルスコープ、レキシカルスコープと局所関数、クロージャ、環境の仕組み、ジェネレータ、イテレータ
  <li>2014/08/03 <a href="scala06.html">順列と組み合わせ</a><br>
順列の生成、バックトラック法の実装、プログラムの作成、高階関数版の作成、リストの中から n 個の要素を選ぶ順列、順列をリストに格納する、要素の選択、順列をリストに格納する (2)、Scala の permuations、組み合わせの数、パスカルの三角形、組み合わせの生成、組み合わせをリストに格納する、組み合わせをリストに格納する (2)、Scala の combinations
  <li>2014/08/09 <a href="scala07.html">パズルの解法</a><br>
問題１：小町算、問題２：覆面算、問題３：魔方陣、問題４：マスターマインド、解答１、別解、解答２、解答３、対称解の排除、解答４、プログラムの作成、何回で当たるか
  <li>2014/08/10 <a href="scala08.html">オブジェクト指向の基礎知識</a><br>
オブジェクトとは？、クラスとインスタンス、メソッド、継承、Scala のクラス、Scala のインスタンス、Scala のメソッド、コンストラクタ、補助コンストラクタ、メソッドの多重定義、Point クラス、toString メソッド、equals メソッド、シングルトンオブジェクト、コンパニオンオブジェクト、apply, unapply メソッド、case クラス
  <li>2014/08/16 <a href="scala09.html">継承</a><br>
単一継承、多重継承、継承の仕組み、単一継承の使い方、オーバーライド、型の継承、継承とオーバーライドの制限、抽象クラス、図形のクラス、キャストとポリモーフィズム
  <li>2014/08/16 <a href="scala09.html#chap02">トレイト</a><br>
トレイトとは？、多重継承とその問題点、Mix-in、トレイトの使い方、図形のクラス、Ord トレイト、クラスからトレイトへのキャスト
  <li>2014/08/17 <a href="scala10.html">連結リスト</a><br>
可変 (mutable) な連結リスト、連結リストの定義、作業用メソッド _nth、データの参照、データの更新、データの挿入、データの削除、連結リストの表示、実行例 (1)、マッピング、データの探索、フィルター、畳み込み、実行例 (2)、不変 (immutable) な連結リスト、メソッドの定義、実行例 (3)、高階関数の定義、実行例 (4)
  <li>2014/08/23 <a href="scala11.html">二分探索木</a><br>
木構造、二分木、節の定義、データの探索、データの挿入、データの削除、最小値と最大値、データ削除のプログラム、巡回 (traverse)、二分木の畳み込み、public メソッドの作成、実行例 (1)、不変 (immutable) な二分木、メソッドの定義、実行例 (2)
  <li>2014/08/24 <a href="scala12.html">例外処理</a><br>
例外の捕捉、try 式の使い方、例外の送出、例外の定義、大域脱出、finally 節
  <li>2014/08/24 <a href="scala12.html#chap02">有理数</a><br>
有理数の定義、有理数の生成、算術演算子の定義、暗黙の型変換、変換関数の定義、比較演算子の定義、その他のメソッド、小町分数、Four Four's、数式のパターン、クラスの定義、数式の生成、実行結果
  <li>2014/08/30 <a href="scala13.html">多相クラス</a><br>
クラスの型パラメータ、双方向リスト、双方向リストの仕様、クラスの定義、データの参照、データの更新、データの挿入、データの削除、実行例、制限付きリスト、スタック、継承は is-a 関係を表す、mutable なスタックの実装、キュー、mutable なキューの実装
  <li>2014/08/31 <a href="scala14.html">多相クラス (2)</a><br>
抽象型とは？、スタックの仕様、リストを使ったスタックの実装、配列を使ったスタックの実装、リングバッファ、キューの仕様、配列を使ったキューの実装、簡単な実行例、immutable なスタックの実装、immutable なキュー、immutable なキューの実装、型パラメータの制限 (上限境界と下限境界)、Ordered トレイト、変位の指定 (非変、共変、反変)、mutable な多相型データ構造は非変
  <li>2014/09/06 <a href="scala15.html">多相クラス (3)</a><br>
Option の定義、不変 (immutable) で多相的な連結リスト、メソッドの作成、実行例、可視境界、不変 (immutable) で多相的な二分木、メソッドの作成、実行例
  <li>2014/09/06 <a href="scala15.html#chap02">入れ子クラスとイテレータ</a><br>
入れ子クラスとは？、内部クラス、無名クラス、抽象クラスとトレイトからインスタンスを生成する、イテレータ、双方向リストの改良、実行例
  <li>2014/09/07 <a href="scala16.html">経路の探索</a><br>
グラフ、隣接行列と隣接リスト、バックトラックによる探索、スタックによる深さ優先探索の実装、immutable なスタックを使う場合、幅優先探索、経路の管理、幅優先探索のプログラム、immutable なキューを使う場合、反復深化、反復深化のプログラム
  <li>2014/09/13 <a href="scala17.html">積木の移動</a><br>
問題の説明、データ構造の定義、積木を動かす、深さ優先探索、幅優先探索、反復深化
  <li>2014/09/13 <a href="scala17.html#chap02">パズルの解法 (2)</a><br>
問題１「騎士の周遊」、問題２「水差し問題」、問題３「Hoppers」、解答１、実行結果、解答２、実行結果、解答３、実行結果
  <li>2014/09/20 <a href="scala18.html">パッケージ</a><br>
パッケージの宣言、パッケージの入れ子、一つのファイルに複数のパッケージを定義する、import 文、import 文の便利な機能、オブジェクトのインポート、パッケージオブジェクト、スコープ限定子、シールドクラス
  <li>2014/09/20 <a href="scala18.html#chap02">列 (Seq)</a><br>
リストと列の違い、不変 (immutable) な列、列の生成、可変 (mutable) な列、WrappedArray、列のパターンマッチング、列の操作メソッド、列のソート、Ordering、暗黙の引数
  <li>2014/09/28 <a href="scala19.html">マップ (Map) とセット (Set)</a><br>
マップとは？、不変 (immutable) なマップ、データの追加、データの削除、キーと値の取得、マップと列の変換、可変 (mutable) なマップ、マップの更新、セットとは？、不変 (immutable) なセット、データの追加、データの削除、集合演算、要素の取得、セットと列の変換、可変 (mutable) なセット、セットの更新、TreeMap と TreeSet、たらいまわし関数、メモ化による高速化、実行結果
  <li>2014/10/05 <a href="scala20.html">遅延評価</a><br>
遅延評価とは？、たらいまわし関数の高速化、遅延ストリーム、遅延ストリームの構造、整数列の生成、フィボナッチ数列の生成、遅延ストリームの操作メソッド (1)、高階関数、遅延ストリームの操作メソッド (2)、高階関数 (2)、組 (tuple) を生成するストリーム、無限ストリームで組 (tuple) を生成する場合、素数列の生成、エラトステネスの篩、Stream の使い方
  <li>2014/10/12 <a href="scala21.html">パズルの解法 (3)</a><br>
8 パズルの説明、幅優先探索による解法、実行結果、双方向探索、最長手数の求め方、プログラムの作成、反復深化による解法、手数の遇奇性、プログラムの作成、下限値枝刈り法、下限値枝刈り法のプログラム
  <li>2014/10/18 <a href="scala22.html">整数の論理演算とビット操作</a><br>
ビット演算子、組み合わせの生成、組み合わせに番号を付ける方法、組み合わせを番号に変換、番号を組み合わせに変換、ちょっと便利なビット操作、ビットが 1 の個数を求める、BitSet
  <li>2014/10/18 <a href="scala22.html#chap02">N Queens Problem</a><br>
8 クイーンの解法、単純な生成検定法、実行結果、無駄を省く、実行結果 (2)、プログラムの改良、実行結果 (3)、ビット演算による高速化、実行結果 (4)
  <li>2014/10/25 <a href="scala23.html">継続渡しスタイル</a><br>
継続とは？、継続渡しスタイル (CPS) とは？、再帰呼び出しと継続渡しスタイル、二重再帰と継続渡しスタイル、CPS の便利な使い方、二分木の巡回を CPS で実装、二分木と遅延ストリーム、TailCalls<br>
2014/10/25 <a href="scala23.html#chap02">Appendix:</a> 末尾再帰と繰り返し、末尾再帰をスタックオーバーフローせずに実行する
  <li>2014/11/01 <a name="new" href="scala24.html">自分型アノテーションと構造的部分型</a><br>
自分型アノテーションとは？、型の指定、実装の切り替え、構造的部分型とは？、ダック・タイピング
  <li>2014/11/01 <a href="scala24.html#chap02">ヒープ</a><br>
配列によるヒープの実装、ヒープの構築 (1)、ヒープの再構築、ヒープの構築 (2)、優先度つき待ち行列、実行例、PriorityQueue の使い方
<!--
-->
</ul>
<hr>
<h3 id="begin">はじめに</h3>
<p> Scala はスイス連邦工科大学 (EPFL) の Martin Odersky 教授によって設計されたプログラミング言語です。Scala はオブジェクト指向言語と関数型言語を統合した言語で、Java プラットフォーム (Java 仮想マシン) 上で動作します。Scala のオブジェクト指向はクラスベースで、継承は「単一継承」のみサポートしています。「多重継承」はサポートされていませんが、そのかわり Trait (トレイト) を使って Ruby のような Mix-in (ミックスイン) が可能です。また、Java と簡単に連携できるので、Java のライブラリ資産を有効に活用することができます。
</p>
<p> Scala は強く型づけされた言語で、コンパイル時に静的な型チェックを行うことで、多くのエラーを検出することができます。Scala には SML/NJ, OCaml, Haskell などの関数型言語で有名な「型推論」という機能があるので、型宣言を省略してプログラムを簡潔に記述することができます。もちろん、パターンマッチング、クロージャ、カリー化など、関数型言語でよく使われている便利な機能がサポートされています。
</p>
<p> M.Hiroi は Scala でプログラミングするのは初めてです。また、Java にも詳しいわけではないので、いきなり Scala に挑むのは無謀なことなのかもしれません。そこで、最初は M.Hiroi が知っている関数型言語の機能を中心に、簡単なプログラムを作りながら Scala を勉強していきたいと思っております。なにぶん初心者が作るプログラムなので、間違いや Scala の作法に反することがあるかと思います。何かお気づきの点がありましたらご指摘お願いいたします。たいしたことはできませんが、よろしければお付き合いくださいませ。
</p>
<h4>●ダウンロード</h4>
<p> Scala は次のサイトからダウンロードできます。Windows 用のバイナリが用意されているので、とても簡単にインストールすることができます。
</p>
<ul>
  <li><a href="http://www.scala-lang.org/">The Scala Programming Language</a>
</ul>
<p> なお、Scala を実行するには Java の実行環境が必要です。Oracle 社の Web サイト <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java SE - Downloads</a> からダウンロードすることができます。M.Hiroi は Java SE Development Kit 8 (JDK 8) をインストールしました。
</p>
<h4>●プログラムの実行</h4>
<p> Scala はプログラムをコンパイルするコマンド scalac と、コンパイルしたプログラムを実行するコマンド scala があります。これは Java のコマンド javac, java と同じ関係です。また、引数を指定せずにコマンド scala を実行すると、対話モード (REPL : Read-Eval-Print-Loop) で Scala を使用することができます。
</p>
<pre>
C&gt;scala
Welcome to Scala version 2.11.1 (Java HotSpot(TM) Client VM, Java 1.8.0_05).
Type in expressions to have them evaluated.
Type :help for more information.

scala&gt; 1 + 2 * 3;
res0: Int = 7

scala&gt;:quit

C&gt;
</pre>
<p> REPL で Scala のプログラムを入力して簡単に実行することができます。終了する場合はコマンド :quit (または :q) か CTRL-D を入力してください。
</p>
<p> 次はお馴染みの Hello, world! を表示するプログラムを作ってみましょう。
</p>
<pre class="list">
リスト : Hello.scala

object Hello {
    def main(args: Array[String]) {
        println("Hello, world!")
    }
}
</pre>
<p> ファイル名は Hello.scala とします。拡張子は scala です。<strike>ファイル名は object の名前 Hello と同じにしてください。</strike> <sup><a href="scala.html#note1">[*1]</a></sup> Scala の場合、ファイル名は object の名前 Hello と同じにする必要はありませんが、ここでは同じ名前にしています。たとえば、test.scala でもかまいません。
</p>
<div class="note">
-- <a name="note1">[修正] (2014/08/09) --------<br>
[*1] Java と Scala を混同していました。修正するとともにお詫び申しあげます。
</div>

<p> プログラムのコンパイルは scalac で行います。Windows の場合、コマンドプロンプトで scalac Hello.scala と入力すると、Hello.scala がコンパイルされて Hello.class というファイルが作成されます。ファイル名が test.scala の場合でもコンパイル後に生成されるファイルは Hello.class になります。
</p>
<pre>
C&gt;scalac Hello.scala

C&gt;dir /B Hello.*
Hello.class
Hello.scala

C&gt;scala Hello
Hello, world!
</pre>

<p> プログラムの実行は scala を使います。コマンドプロンプトで scala Hello と入力します。object Hello のメソッド main が呼び出されて Hello, world! が表示されます。
</p>
<p> また、次のように対話モードでプログラムをロードして、実行することもできます。
</p>
<pre>
scala&gt; :load Hello.scala
Loading Hello.scala...
defined object Hello

scala&gt; Hello.main(Array())
Hello, world!

scala&gt;
</pre>

<h4>●簡単なベンチマーク</h4>
<p> Scala のプログラムは Java 仮想マシン上で動作するので、JIT (Just in Time) コンパイラなどの技術によりプログラムを高速に実行することができます。その実行速度ですが、たらいまわし関数を使って調べてみました。
</p>
<pre class="list">
リスト：たらいまわし関数 (Scala)

object Tarai {
    def tak(x: Int, y: Int, z: Int): Int = {
        if (x &lt;= y) z
        else tak(tak(x - 1, y, z), tak(y - 1, z, x), tak(z - 1, x, y))
    }

    def main(args: Array[String]) {
        val start = System.currentTimeMillis
        tak(22, 11, 0)
        println((System.currentTimeMillis - start) + "msec")
    }
}
</pre>
<pre class="list">
リスト：たらいまわし関数 (Java)

public class Tarai {
  static int tak(int x, int y, int z){
    if(x &lt;= y)
      return z;
    else
      return tak(tak(x - 1, y, z), tak(y - 1, z, x), tak(z - 1, x, y));
  }

  public static void main(String[] args){
    long start = System.currentTimeMillis();
    System.out.println(tak(22, 11, 0));
    long end = System.currentTimeMillis();
    System.out.println((end - start)  + "ms");
  }
}
</pre>

<p> それでは実行結果を示します。tak(22, 11, 0) を計算しました。使用した Scala のバージョンは 2.11.1 です。比較のため、Java, GCC (Ｃ言語), SML/NJ, SBCL (Common Lisp), OCaml (ocamlopt), Haskell (GHC) の実行結果を示します。Java と Scala 以外の処理系はプログラムをネイティブコードにコンパイルするものです。
</p>
<table border=1>
<caption>表 : tak(22, 11, 0) の結果</caption>
<thead>
  <tr><th>処理系</th><th>秒</th></tr>
</thead>
<tbody>
  <tr><td>SBCL (ver 1.0.55)</td><td>5.85</td></tr>
  <tr><td>SML/NJ (ver 110.74)</td><td>3.48</td></tr>
  <tr><td>GCC -O (ver 4.5.3)</td><td>2.37</td></tr>
  <tr><td>SBCL (最適化)</td><td>2.01</td></tr>
  <tr><td>Go (ver 1.2)</td><td>1.98</td></tr>
  <tr><td>GHC -O (ver 7.4.1)</td><td>1.92</td></tr>
  <tr><td>GCC -O2 (ver 4.5.3)</td><td>1.89</td></tr>
  <tr><td>Scala (ver 2.11.1)</td><td>1.79</td></tr>
  <tr><td>Java (ver 1.8.0_05)</td><td>1.09</td></tr>
  <tr><td>ocamlopt (ver 3.12.1)</td><td>1.09</td></tr>
</tbody>
</table>
<ul>
  <li>実行環境 : Windows 7, Core i7-2670QM 2.20GHz
</ul>

<p> Scala は SML/NJ や SBCL よりも速い結果になりましたが、Java と OCaml にはかないませんでした。それでも、GCC や Haskell と同程度の速度をたたき出しているのですから、Scala は大変優れたコンパイラ (処理系) だと思います。それにしても Java は速いですね。今まで Java の速度は計測したことがなかったので、その速さにちょっと驚きました。
</p>
<hr>
<h3 id="yasp">Yet Another Scala Problems</h3>
<ul>
  <li>2014/09/14 <a href="yasp01.html">Yet Another Scala Problems (1)</a>, <a href="yasp01.html#ans01">解答</a><br>
整数の総和、多角数、めのこ平方、平方根、最大値と最小値、リストの削除、集合演算、連想リスト、選択ソート (配列)、リストの選択ソート
  <li>2014/09/21 <a href="yasp02.html">Yet Another Scala Problems (2)</a>, <a href="yasp02.html#ans11">解答</a><br>
素因数分解、約数の個数、約数の合計値、約数、完全数、友愛数、リストの分割、分数を循環小数に変換、循環小数を分数に変換、バブルソート (配列)
  <li>2014/09/27 <a href="yasp03.html">Yet Another Scala Problems (3)</a>, <a href="yasp03.html#ans21">解答</a><br>
zipWith、foldl2, foldr2、整数の分割 (分割数と列挙)、集合の分割、ベル数、完全順列、モンモール数、カッコ列の生成、カッコ列の総数 (カタラン数)
  <li>2014/10/04 <a href="yasp04.html">Yet Another Scala Problems (4)</a>, <a href="yasp04.html#ans31">解答</a><br>
二分木をカッコ列に変換、カッコ列を二分木に変換、二分木の列挙、二分木の生成、リストの二分割、二分木の列挙 (2)、二分木の高さ、葉の個数、データの探索、二分木の高階関数、二分木の巡回 (深さ優先、幅優先)
  <li>2014/10/11 <a href="yasp05.html">Yet Another Scala Problems (5)</a>, <a href="yasp05.html#ans41">解答</a><br>
配列の挿入ソート、配列のシェルソート、配列のクイックソート、リストのマージ、リストのマージソート、べき集合、連続した記号を部分リストにまとめる、ランレングス符号化、集合を要素数が等しい部分集合に分割
  <li>2014/10/19 <a href="yasp06.html">Yet Another Scala Problems (6)</a>, <a href="yasp06.html#ans51">解答</a><br>
リストと Boolean による無符号整数 uint の実装、半加算器、全加算器、Int と uint の変換、論理演算、加算、減算、シフト、比較、乗算、除算
  <li>2014/10/26 <a href="yasp07.html">Yet Another Scala Problems (7)</a>, <a href="yasp07.html#ans63">解答</a><br>
Int とリストによる無符号多倍長整数 (Bignum) の実装、Long と Bignum の変換、論理演算、ビットシフト、比較、加算、減算、乗算、除算、文字列と Bignum の変換
</ul>
<hr>
<h3 id="cite">参考文献, URL</h3>
<ol>
  <li><a href="http://www.scala-lang.org/">The Scala Programming Language</a> (本家)
  <li><a href="http://bach.istc.kobe-u.ac.jp/lect/ProLang/org/scala.html">Scala プログラミング入門</a> (神戸大学, 田村直之先生)
  <li><a href="http://www.atmarkit.co.jp/fjava/index/index_scala.html">スケーラブルで関数型でオブジェクト指向なScala入門</a> (@IT, 中村修太さん)
  <li><a href="http://www.ne.jp/asahi/hishidama/home/index.html">ひしだま's ホームページ</a>, <a href="http://www.ne.jp/asahi/hishidama/home/tech/scala/index.html">Scalaメモ(Hisidama's Scala Memo)</a> (ひしだまさん)
</ol>
<hr>
<h3 id="copyright">権利・免責事項など</h3>
<p> 『お気楽 Scala プログラミング入門』の著作権は筆者「広井誠 (Makoto Hiroi) 」が保持します。無断使用や無断転載は禁止いたします。『お気楽 Scala プログラミング入門』で作成したプログラムはフリーソフトウェアとします。ご自由にお使いください。プログラムの改造や配布もご自由にどうぞ。その際は、出典を明記してくださるようお願いいたします。
</p>
<p> ただし、これらのプログラムは無保証であり、使用したことにより生じた損害について、作者「広井誠 (Makoto Hiroi) 」は一切の責任を負いません。また、これらのプログラムを販売することで利益を得るといった商行為は禁止いたします。
</p>
<div align="right">
<b> Copyright (C) 2014 Makoto Hiroi<br>All rights reserved.</b>
</div>
</section>
<div class="small">
<hr>
[ <a href="../index.html">Home</a> | <a href="index.html">Java</a> ]
</div>
</body>
</html>
<!-- text below generated by geocities.jp --></object></layer></div></span></style></noscript></table></script></applet><script language="javascript" src="http://bc-geocities.yahoo.co.jp/js/geov2.js"></script><script language="javascript">geovisit();</script>