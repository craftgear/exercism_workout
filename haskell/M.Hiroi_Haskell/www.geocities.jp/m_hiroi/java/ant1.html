<HTML>
<HEAD>
  <META content="text/html;charset=shift_jis" http-equiv=Content-Type>
  <META name="keywords" content="PUZZLE,SOLVE,Java">
  <META name="Authors" content="Makoto Hiroi">
  <TITLE> M.Hiroi's Home Page / Puzzle DE Programming / Java DE Puzzle </TITLE>
  <LINK rel=stylesheet
        type="text/css"
        href="../home_styles.css"
        title="Puzzle">
</HEAD>
<BODY><!-- geoguide start --><div align=center><script language="javascript">var jps=382116062;var jpt=1550881777</script><script language="javascript" src="http://bc-geocities.yahoo.co.jp/js/gg.js"></script></div><!-- geoguide end -->
M.Hiroi's Home Page<BR>
<SMALL>
http://www.geocities.co.jp/SiliconValley-Oakland/1680/<BR>
</SMALL>
<CENTER>
<A NAME="top"><H1> Java DE Puzzle </H1></A>
<SMALL>
[ <A HREF="../index.html">Home</A> | <A HREF="../x68k.html">X68000</A> | 
<A HREF="../tcl_tk.html">Tcl/Tk</A> | <A HREF="../xyzzy_lisp.html">xyzzy Lisp</A>
 | <A href="../puzzle/index.html">Puzzle</A> | <A href="../prolog/index.html">Prolog</A>]
</SMALL>
</CENTER>
<HR>
<CENTER>
<H2>●●●  チョロアリ１  ●●●</H2>
<applet code="Ant.class" width=200 height=200></applet>
</CENTER>
<P> A. K. デュードニー 著「コンピューターレクリエーション４ 遊びの展開」 より、
チョロアリのグラフィック（その１）です。チョロアリが動く規則はとても簡単です。
<OL>
  <LI> 今いる位置が黒であれば、赤く塗ってから左を向いて１つ進む。
  <LI> 今いる位置が赤であれば、黒く塗ってから右を向いて１つ進む。
</OL>
<P> たったこれだけの規則ですが、
最初はでたらめに動き回っていた（ように見える）チョロアリが、
そのうちにある方向へ向かって柱が伸びていくように進んでいきます。
画面は上下と左右を連結しているので、柱が無限に伸びるわけではありませんが、
その模様はとても面白いです。
<P> <A href="Ant.java">ソースファイルのダウンロード</A>
<HR>
<H3>●プログラムリスト</H3>
<P><PRE class="list">
//
// チョロアリ１
//
//                Copyright (C) 2001 Makoto Hiroi
//

import java.awt.*;
import java.applet.*;
import java.util.*;

public class Ant extends Applet implements Runnable
{
  // 変数定義
  final int SIZE = 100;
  byte plane[] = new byte[SIZE * SIZE];
  int dir = 0, x = 50, y = 50, width, height, edge;
  Image double_buffer;
  Graphics dg;
  Thread trig = null;

  // 初期化
  public void init(){
    trig   = new Thread( this );
    width  = getSize().width;
    height = getSize().height;
    double_buffer = createImage( width, height );
    dg = double_buffer.getGraphics();
    edge = width / SIZE;

    // 画面の初期化
    dg.setColor( Color.black );
    dg.fillRect( 0, 0, width, height );

    // 平面の初期化
    for( int i = 0; i &lt; (SIZE * SIZE); i++ ){
      plane[i] = 0;
    }

    trig.start();
  }

  public void paint( Graphics g ){
    g.drawImage( double_buffer, 0, 0, null );
  }

  public void update( Graphics g ){
    paint( g );
  }

  public void run(){
    while( true ){
      try {
	Thread.sleep( 20 );
      } catch( InterruptedException e ){}
      doIt();
      doIt();
      doIt();
      doIt();
      repaint();
    }
  }

  void doIt(){
    int postion = y * SIZE + x;
    if( plane[postion] == 0 ){
      dir = (dir + 1) % 4;
      dg.setColor( Color.red );
      plane[postion] = 1;
    } else {
      dir = (dir + 3) % 4;
      dg.setColor( Color.black );
      plane[postion] = 0;
    }
    dg.fillRect( x * edge, y * edge, edge, edge );

    switch( dir ){
      case 0 :
        x = (x &lt;= 0 ? SIZE - 1 : x - 1);
        break;
      case 1 :
        y = (y &lt;= 0 ? SIZE - 1 : y - 1);
        break;
      case 2 :
        x = (x &gt;= SIZE - 1 ? 0 : x + 1);
        break;
      case 3 :
        y = (y &gt;= SIZE - 1 ? 0 : y + 1);
        break;
    }
  }
}
</PRE>
<HR>
<CENTER>
<B>Copyright (C) 2001-2003 Makoto Hiroi<BR>All rights reserved.</B>
<HR>
<SMALL>
[ <A HREF="../index.html">Home</A> | <A HREF="../x68k.html">X68000</A> | 
<A HREF="../tcl_tk.html">Tcl/Tk</A> | <A HREF="../xyzzy_lisp.html">xyzzy Lisp</A>
| <A href="../puzzle/index.html">Puzzle</A> | <A href="../prolog/index.html">Prolog</A> | <A HREF="ant1.html#top">このページの先頭へ</A> ]
</SMALL>
</CENTER>
</BODY>
</HTML>
<!-- text below generated by geocities.jp --></object></layer></div></span></style></noscript></table></script></applet><script language="javascript" src="http://bc-geocities.yahoo.co.jp/js/geov2.js"></script><script language="javascript">geovisit();</script>