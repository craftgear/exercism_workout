<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>M.Hiroi's Home Page / Memorandum</title>
  <meta name="description" content="M.Hiroi's Home Page,memorandum">
  <link rel="stylesheet" type="text/css" href="home_styles.css">
</head>
<body><!-- geoguide start --><div align=center><script language="javascript">var jps=382116062;var jpt=1550881754</script><script language="javascript" src="http://bc-geocities.yahoo.co.jp/js/gg.js"></script></div><!-- geoguide end -->
M.Hiroi's Home Page
<div class="small">
http://www.geocities.jp/m_hiroi/
</div>
<div class="ce">
<h1>Memorandum</h1>
プログラミングに関する覚え書や四方山話です。
</div>
<div class="small">
[ <a href="index.html">Home</a> ]
<hr>
</div>
<div class="small">
2005 年
<a href="memo05.html#0001">1 月</a> 
<a href="memo05.html#0002">2 月</a> 
<a href="memo05.html#0003">3 月</a> 
<a href="memo05.html#0004">4 月</a> 
<a href="memo05.html#0005">5 月</a> 
<a href="memo05.html#0006">6 月</a> 
<a href="memo05.html#0007">7 月</a> 
8 月 
9 月 
10月 
11月 
<a href="memo05.html#0012">12月</a> 
</div>
<hr>
<a name="0012">2005 年 12 月</a>
<hr>
<section class="contents">
<h3 id="051231">12月31日</h3>
<h4 id="051231_1">●大晦日</h4>
<p> 今年も残りわずかとなりました。M.Hiroi's Home Page を開設してから五年半になりますが、おかげさまでカウンタも 186,000 を突破いたしました。リンクしていただいているホームページ管理者の皆様、そして、なによりも M.Hiroi's Home Page に来てくださる皆様にお礼申しあげます。
</p>

<p> それでは、きたるべき年も皆様にとってよいお年でありますように。
</p>
<hr>
<h3 id="051223">12月23日</h3>
<h4 id="051223_1">●ひさしぶりの更新</h4>
<p> 個人的な事情で M.Hiroi's Home Page の更新が滞ってしまいました。今までのように更新するのはちょっと難しい状況ですが、M.Hiroi's Home Page は続けていきたいと思っております。これからもよろしくお願いいたします。
</p>
</section>
<hr>
<a name="0007">2005 年 7 月</a>
<hr>
<section class="contents">
<h3 id="10">7月10日</h3>
<h4 id="10_1">●祝！ M.Hiroi's Home Page 開設五周年</h4>
<p> M.Hiroi's Home Page を開設してから本日でちょうど 5 年になりました。この 1 年間で 40,000 Hit を越えるアクセスがあり、1 日のアクセス数は平均で 111 Hit になりました。多くの方にアクセスしていただき、とても嬉しく思います。リンクしていただいているホームページ管理者の皆様、そして、なによりも M.Hiroi's Home Page に来てくださる皆様に厚くお礼申しあげます。
</p>

<p> これからもがんばりますので、今後ともよろしくお願い申しあげます。
</p>
</section>
<hr>
<a name="0006">2005 年 6 月</a>
<hr>
<section class="contents">
<h3 id="20">6月20日</h3>
<h4 id="20_1">●170,000 Hit!</h4>
<p> 本日、カウンタが 170,000 を突破しました。多くの方にアクセスしていただき、とても嬉しく思います。リンクしていただいているホームページ管理者の皆様、そして、なによりも M.Hiroi's Home Page に来てくださる皆様に厚くお礼申し上げます。最近は Ｃ言語講座 のアクセス数が一番多く、次が <a href="xyzzy_lisp.html">xyzzy Lisp</a> で、その次が <a href="prolog/index.html">Prolog</a> になりました。去年もそうでしたが、4 月中旬頃からＣ言語講座と Prolog のアクセス数が増えています。学校の授業が始まって、学生さんのアクセスが多くなっているのかもしれません。
</p>

<p> 先月から始めた <a href="func/index.html">お気楽 Standard ML of New Jersey 入門</a> ですが、おかげさまで先日 1000 Hit を越えました。多くの方にアクセスしていただき、本当にありがとうございます。SML/NJ は強く型づけされたプログラミング言語ですが、実際に使ってみると、思っていたよりも柔軟にプログラムを作ることができました。これも ML の特徴である型推論や多相関数といった機能があるからできることなのでしょう。SML/NJ はとても面白いプログラミング言語だと思います。
</p>

<p> これからもがんばりますので、よろしくお願い申しあげます。
</p>

</section>
<hr>
<a name="0005">2005 年 5 月</a>
<hr>
<section class="contents">
<h3 id="18">5月18日</h3>
<h4 id="18_1">●ユークリッドの互除法</h4>
<p> 負でない整数 a と b の最大公約数を求める場合、「ユークリッド (Euclid) の互除法」を使うと簡単です。
</p>
<div class="question">
<b>[ユークリッドの互除法]</b>
<p>負でない整数 a と b (a &gt; b) で、a を b で割った余りを r とする。このとき、a と b の最大公約数は b と r の最大公約数に等しい。
</p>
</div>
<p> ユークリッドの互除法は簡単に証明できます。a と b の割り算を次の式で表します。
</p>
<pre class="item">
(1) a = q * b + r 
</pre>
<p> ここで、a と b の最大公約数を m とすると、a = m * a', b = m * b' となります。すると、式 (1) は式 (2) で表すことができます。
</p>
<pre class="item">
(2) m * a' = q * m * b' + r
</pre>
<p> 左辺は m で割り切れるので、右辺も m で割り切れる必要があります。q * m * b' は m で割り切れますね。したがって、r も m で割り切れることになります。つまり、r = m * r' になるので、b と r の最大公約数は a と b の最大公約数 m と同じになります。
</p>
<p> 同様に、b と r の最大公約数を求めます。b を a とし、r を b にして同じ計算をすればいいわけです。この計算を繰り返し行うと、a と b はどんどん小さくなっていき、r = 0 になったときの b が最大公約数になります。次の例を見てください。
</p>
<pre class="fig">
  a    b    r
---------------
  42   30   12
  30   12    6
  12    6    0

最大公約数は 6
</pre>
<p> このように、42 と 30 の最大公約数 6 を簡単に求めることがでいます。プログラムは再帰定義を使って簡単に作ることができます。たとえば、SML/NJ でプログラムを作ると次のようになります。
</p>

<pre class="list">
リスト：最大公約数

fun gcd( a, 0 ) = a
|   gcd( a, b ) = gcd( b, a mod b )
</pre>
<p> このプログラムは a &lt; b でも動作します。実行例を示します。
</p>
<pre>
- gcd( 42, 30 );
val it = 6 : int
- gcd( 30, 42 );
val it = 6 : int
</pre>
<p> 複数の整数の最大公約数を求める場合、縮約 (reduce) を使うと簡単です。SML/NJ の関数 foldr を使うと次のようになります。
</p>
<pre>
- foldr gcd 0 [63,42,35];
val it = 7 : int
</pre>
<p> 最小公倍数は最大公約数を使って簡単に求めることができます。次の例を見てください。
</p>
<pre>
- fun lcm( a, b ) = a * b div gcd( a, b );
val lcm = fn : int * int -> int

- lcm( 5, 7 );
val it = 35 : int
- lcm( 14, 35 );
val it = 70 : int
- foldr lcm 1 [1,2,3,4,5,6];
val it = 60 : int
</pre>
<p> 整数 a と b の最小公倍数は a * b / gcd(a, b) で求めることができます。複数の整数の最小公倍数も foldr を使って簡単に求めることができます。
</p>
<hr>
<h3 id="08">5月8日</h3>
<h4 id="08_1">●Functional Programming</h4>
<p> 先日、<a href="func/index.html">Functional Programming</a> を新設しました。先月の Memorandum で簡単に紹介した Standard ML of New Jersey (SML/NJ) の入門講座を書いています。関数型言語は手続き型言語とは違う独特の面白さがあります。<a href="func/index.html">Functional Programming</a> では SML/NJ で簡単なプログラムを作りながら関数型プログラミングを楽しんでいきたいと思っております。たいしたことはできませんが、よろしくお付き合いくださいませ。
</p>

</section>
<hr>
<a name="0004">2005 年 4 月</a>
<hr>
<section class="contents">
<h3 id="24">4月24日</h3>
<h4 id="24_1">●ZLE (Zero Length Encoding) の改良 (2)</h4>
<p> <a href="memo05.html#0406">4 月 6 日</a> の続きです。今回は 0-1-2 coding で試してみました。テストプログラムの種類を示します。
</p>
<pre class="item">
(A) BlockSort -&gt; MTF-3 -&gt; RLE7 -&gt; 0-1-2 coding
(B) BlockSort -&gt; MTF-3 -&gt; 改良版 1 -&gt; 0-1-2 coding
(C) BlockSort -&gt; MTF-3 -&gt; 改良版 2 -&gt; 0-1-2 coding
</pre>
<p> 今回のテストでは 2 以上の記号にランレングスを適用しています。0-1-2 coding の場合、この方が圧縮率が高くなります。改良版 1 は Sam さんの方法で、改良版 2 は改良版 1 の開始連長を -1 したものです。なお、記号 0xfe と 0xff の出現頻度はとても少ないので、テストプログラムではランレングスを適用していません。Sam さんの方法とは少し異なることに注意してください。
</p>
<p> 実行結果は次のようになりました。
</p>
<pre class="fig">
  ファイル名      サイズ    (A)      (B)      (C)
  -------------------------------------------------
  alice29.txt    152,089   42,047   42,022   42,022
  asyoulik.txt   125,179   38,805   38,788   38,788
  cp.html         24,603    7,482    7,479    7,479
  fields.c        11,150    2,936    2,934    2,934
  grammar.lsp      3,721    1,208    1,208    1,208
  kennedy.xls  1,029,744   89,515   84,567   82,877
  lcet10.txt     426,754  104,540  104,487  104,486
  plrabn12.txt   481,861  141,804  141,761  141,761
  ptt5           513,216   47,846   47,833   47,832
  sum             38,240   12,277   12,274   12,274
  xargs.1          4,227    1,670    1,670    1,670
  -------------------------------------------------
  合計         2,810,784  490,130  485,023  483,331
</pre>
<p> 予想通り kennedy.xls には大きな効果がありました。ビットモデルと比べると、少しですが圧縮率が向上するファイルがあるので、Sam さんの改良版は 0-1-2 coding と組み合わせた方がよいのかもしれません。興味のある方はいろいろ試してみてください。
</p>
<hr>
<h3 id="0406">4月6日</h3>
<h4 id="06_1">●ZLE (Zero Length Encoding) の改良</h4>
<p> データ圧縮のお話です。Sam さんが Guest Book で紹介された ZLE の改良を試してみました。Sam さん、ありがとうござます。拙作のＣ言語講座番外編 ランレングスの改良 では、ZLE (Zero Length Encoding) と RLE (Run Length Encoding) を組み合わせる方法を説明しました。Sam さんの方法は ZLE と RLE を組み合わせる方法の改良版で、「記号ごとにランレングスを開始する連長を変える」というものです。次の表を見てください。
</p>
<pre class="fig">
   記号   連長
----------------------
  0        --  (ZLE)
  1        10  (RLE10)
  2, 3      9  (RLE9)
  4 -   7   8  (RLE8)
  8 -  15   7  (RLE7)
 16 -  31   6  (RLE6)
 32 -  63   5  (RLE5)
 64 - 127   4  (RLE4)
128 - 255   3  (RLE3)
</pre>
<p> 大きな記号ほどランレングスを開始する連長 (N) を短くします。一般にブロックソートと MTF 法を適用した場合、小さな記号の個数が極めて多くなり、大きな記号の個数はとても少なくなります。したがって、大きな記号で長い連長が出現することはほとんどなく、ランレングスの効果もほとんどありません。
</p>
<p> Sam さんの方法は記号ごとに開始連長 N を変えることで、大きな記号でもランレングスによる符号化が行われるように工夫されています。しかしながら、大きな記号ほどランレングスの効果は少なくなるので、あまり効果がないように思われます。ところが、ランレングスを適用することで、大きな記号を小さな記号に変換することができるのです。次の例を見てください。
</p>
<pre class="item">
FF FF FF FF == RLE3 ==&gt; FF FF FF 00
</pre>
<p> FF が 4 つ連続している場合、RLE3 で符号化しても記号数は同じ 4 になります。記号の個数は同じですが、最後の FF が 00 に変換されていますね。このように、ランレングスには大きな記号を小さな記号に変換する効果があるわけです。まあ、そうはいっても、大きな効果を期待できるというわけではありません。一般的なテキストファイルの場合、効果はほとんどないでしょう。バイナリファイルの場合、効果があるかもしれません。
</p>
<p> それでは実際に試してみましょう。テストデータは <a href="http://corpus.canterbury.ac.nz/">Canterbury Corpus</a> で配布されている <a href="http://corpus.canterbury.ac.nz/descriptions/#cantrbry">The Canterbury Corpus</a> です。プログラムは Borland C++ 5.5.1 for Win32 でコンパイルし、M.Hiroi のオンボロマシン (Windows95, Pentium 166 MHz) で実行しました。
</p>
<p> テストプログラムの種類を示します。
</p>
<pre class="item">
(A) BlockSort -&gt; MTF-3 -&gt; ZLE7 -&gt; ビットモデル
(B) BlockSort -&gt; MTF-3 -&gt; 改良版 1 -&gt; ビットモデル
(C) BlockSort -&gt; MTF-3 -&gt; 改良版 2 -&gt; ビットモデル
</pre>
<p> とりあえず、単純な ビットモデル を使います。改良版 1 は Sam さんの方法で、改良版 2 は改良版 1 の開始連長 (N) を -1 したものです。なお、記号 0xfe と 0xff の出現頻度はとても少ないので、テストプログラムではランレングスを適用していません。Sam さんの方法とは少し異なることに注意してください。
</p>
<p> 実行結果は次のようになりました。
</p>
<pre class="fig">
  ファイル名      サイズ    (A)      (B)      (C)
  -------------------------------------------------
  alice29.txt    152,089   42,281   42,280   42,280
  asyoulik.txt   125,179   38,982   38,979   38,980
  cp.html         24,603    7,624    7,624    7,624
  fields.c        11,150    3,060    3,060    3,060
  grammar.lsp      3,721    1,237    1,237    1,237
  kennedy.xls  1,029,744  101,210   96,753   95,344
  lcet10.txt     426,754  105,295  105,285  105,290
  plrabn12.txt   481,861  142,259  142,248  142,248
  ptt5           513,216   48,085   48,087   48,085
  sum             38,240   12,615   12,614   12,616
  xargs.1          4,227    1,706    1,707    1,706
  -------------------------------------------------
  合計         2,810,784  504,354  499,874  498,470
</pre>

<p> 大きな効果があったのは kennedy.xls だけで、他のファイルの圧縮率はほとんど同じでした。Sam さんの方法はユニークで興味深い方法ですが、その効果は一部のファイルに限られているようです。興味のある方はいろいろなデータで試してみてください。
</p>

</section>
<hr>
<a name="0003">2005 年 3 月</a>
<hr>
<section class="contents">
<h3 id="26">3月26日</h3>
<h4 id="26_1">●160,000 Hit!</h4>
<p> 昨日、カウンタが 160,000 を突破しました。多くの方にアクセスしていただき、とても嬉しく思います。リンクしていただいているホームページ管理者の皆様、そして、なによりも M.Hiroi's Home Page に来てくださる皆様に厚くお礼申し上げます。最近は <a href="xyzzy_lisp.html">xyzzy Lisp</a> のアクセス数が一番多く、次が Ｃ言語講座 で、その次が <a href="perl_tk/index.html">Perl/Tk</a> になりました。
</p>

<p> ところで、オーム社から xyzzy の解説書 <a href="http://www.amazon.co.jp/exec/obidos/ASIN/4274066002/qid%3D1111807038/250-2555096-3130656">入門xyzzy</a> が 3 月 28 日に出版されます。xyzzy はとても優れたエディタですが、初心者にはちょっと難しいと思われているようです。わかりやすい入門書があれば xyzzy を使ってみたい、という方もいるでしょう。この本をきっかけに、xyzzy ユーザが増えるといいなと思っています。ちなみに、Google で "入門xyzzy" を検索すると拙作のページ <a href="xyzzy_lisp.html">xyzzy Lisp Programming</a> もヒットします。最近、xyzzy Lisp のアクセス数が多いのは、これが原因かもしれませんね。
</p>

<p> これからもがんばりますので、よろしくお願い申しあげます。
</p>
<hr>
<h3 id="19">3月19日</h3>
<h4 id="19_1">●ActiveTcl</h4>
<p> Tcl/Tk のお話です。ひさしぶりに Tcl/Tk を 8.4.9 にバージョンアップしました。<a href="http://www.activestate.com/">ActiveState</a> の ActiveTcl をダウンロードしましたが、M.Hiroi のオンボロマシン (Windows 95, Pentium 166 MHz) でも動作したのでよかったです。
</p>
<p> ActiveTcl は Tcl/Tk の有名な拡張ライブラリが含まれていて大変便利です。また、Tcl/Tk 8.4 から追加されたウィジェット (labelframe, panedwindow, spinbox) もあります。これらのウィジェットを拙作のページ <a href="tcl_tk_doc/tcltk_doc.html">Tcl/Tk お気楽 GUI プログラミング</a> で紹介できればいいな、と思っています。
</p>
<p> Tk は Tcl だけではなく、Perl/Tk, Python/Tkinter, Ruby/Tk など他のプログラミング言語でも利用されています。実際、Tcl/Tk の知識は他のプログラミング言語で Tk を扱うときにとても役に立ちます。GUI に興味のある方は、Tcl/Tk でプログラミングしてみるのも悪くはないと思います。
</p>
<p> それから、拙作の <a href="http://www.geocities.jp/m_hiroi/link.html">リンク集</a> に今井さんのページ <a href="http://www.interq.or.jp/japan/s-imai/tcltk/index.html">もっとTcl/Tk</a> を追加しました。Tcl/Tk の情報が充実していて大変素晴らしいページです。Tcl/Tk 関連ではとても有名なページなので、ご存知の方は多いと思います。また、もっとTcl/Tk の <a href="http://www.interq.or.jp/japan/s-imai/tcltk/link.html">関連リンク</a> には、拙作のページ <a href="tcl_tk.html">Tcl/Tk GUI Programming</a> がリンクされています。今井さんに深く感謝いたします。これからもよろしくお願いいたします。
</p>
</section>
<hr>
<a name="0002">2005 年 2 月</a>
<hr>
<section class="contents">
<h3 id="25">2月25日</h3>
<h4 id="25_1">●Interface 4 月号</h4>
<p> <a href="http://www.cqpub.co.jp/">ＣＱ出版社</a> 発行の月刊誌 <a href="http://www.cqpub.co.jp/interface/">Interface 4 月号</a> (2/25発売) で、M.Hiroi は「PPM によるファイルの圧縮（後編）」を執筆しました。後編は PPM (Prediction by Partial Matching) の符号化アルゴリズムと実装方法について詳しく解説しています。圧縮アルゴリズムに興味のある方は読んでみてください。
</p>
<hr>
<h3 id="23">2月23日</h3>
<h4 id="23_1">●ZLE (Zero Length Encoding) と 0-1-2 coding</h4>
<p> データ圧縮のお話です。ブロックソート でファイルを圧縮する場合、MTF 法 と ランレングス でデータを変換し、レンジコーダ で符号化すると高い圧縮率を達成することができます。ここで、情報源モデルを工夫すると圧縮率をさらに向上させることができます。
</p>
<p> ブロックソート向きの情報源モデルは、structured model, 0-1-2 coding, binary model, ビットモデル などいくつかありますが、この中で 0-1-2 coding とランレングス (RLE)、特に Zero Length Encoding (ZLE) との相性はあまりよくありません。RLE の場合は、2 以上の記号に対して RLE を適用することで、この問題を回避することができます。
</p>

<p> これらの情報源モデルに 混合法 を適用すると、圧縮率が向上する場合があります。RLE -&gt; 0-1-2 coding (混合法) では大きな効果がありましたが、ZLE -&gt; 0-1-2 coding (混合法) はまだ試したことがありません。もしかすると、混合法を適用することで、ZLE -&gt; 0-1-2 coding でも圧縮率が向上するかもしれません。そこで、実際に試してみることにしました。
</p>

<p> テストデータは <a href="http://corpus.canterbury.ac.nz/">Canterbury Corpus</a> で配布されている <a href="http://corpus.canterbury.ac.nz/descriptions/#cantrbry">The Canterbury Corpus</a> です。プログラムは Borland C++ 5.5.1 for Win32 でコンパイルし、M.Hiroi のオンボロマシン (Windows95, Pentium 166 MHz) で実行しました。
</p>
<p> テストプログラムの種類を示します。
</p>
<pre class="item">
(A) BlockSort -&gt; MTF-3 -&gt; 0-1-2 coding (binary model + 混合法)
(B) BlockSort -&gt; MTF-3 -&gt; RLE7 (記号 2 以上) -&gt; 0-1-2 coding (binary model + 混合法)
(C) BlockSort -&gt; MTF-3 -&gt; ZLE7 -&gt; 0-1-2 coding (binary model + 混合法)
(D) BlockSort -&gt; MTF-3 -&gt; ZLE7 -&gt; 0-1-2 coding (binary model + 混合法 + jil さんの改良版)
</pre>
<p> 0-1-2 coding (binary model + 混合法) は、混合法による binary model の改良 のプログラム (rcb012x.c) を使いました。(D) はゲストブックで jil さんから教えてもらった改良方法を使っています。jil さん、ありがとうございます。
</p>
<p> 結果は次のようになりました。
</p>
<table border=1 >
<caption>表：The Canterbury Corpus の評価結果</caption>
<thead>
  <tr><th>ファイル名</th><th>サイズ</th><th>(A)</th><th>(B)</th><th>(C)</th><th>(D)</th></tr>
</thead>
<tbody>
  <tr><td>alice29.txt </td><td>  152,089</td><td> 41,710</td><td>41,710 </td><td> 42,046</td><td> 41,974</td></tr>
  <tr><td>asyoulik.txt</td><td>  125,179</td><td> 38,548</td><td>38,549 </td><td> 38,790</td><td> 38,722</td></tr>
  <tr><td>cp.html     </td><td>   24,603</td><td>  7,439</td><td>7,439  </td><td>  7,571</td><td>  7,560</td></tr>
  <tr><td>fields.c    </td><td>   11,150</td><td>  2,933</td><td>2,933  </td><td>  3,025</td><td>  3,020</td></tr>
  <tr><td>grammar.lsp </td><td>    3,721</td><td>  1,210</td><td>1,210  </td><td>  1,232</td><td>  1,230</td></tr>
  <tr><td>kennedy.xls </td><td>1,029,744</td><td> 83,234</td><td> 80,656</td><td> 82,944</td><td> 82,856</td></tr>
  <tr><td>lcet10.txt  </td><td>  426,754</td><td>103,720</td><td>103,719</td><td>104,579</td><td>104,408</td></tr>
  <tr><td>plrabn12.txt</td><td>  481,861</td><td>140,784</td><td>140,784</td><td>141,234</td><td>141,001</td></tr>
  <tr><td>ptt5        </td><td>  513,216</td><td> 47,427</td><td>47,428 </td><td> 47,758</td><td> 47,689</td></tr>
  <tr><td>sum         </td><td>   38,240</td><td> 12,119</td><td>12,115 </td><td> 12,342</td><td> 12,330</td></tr>
  <tr><td>xargs.1     </td><td>    4,227</td><td>  1,675</td><td>1,672  </td><td>  1,698</td><td>  1,696</td></tr>
  <tr><td>合計        </td><td>2,810,784</td><td>480,799</td><td>478,215</td><td>483,219</td><td>482,486</td></tr>
</tbody>
</table>
<p> (C) と (D) を見てください。混合法を適用することで、ZLE -&gt; 0-1-2 coding でも高い圧縮率を達成しています。この結果にはちょっと驚きました。(C) と (D) では、(D) の方が少しだけ圧縮率が高くなりました。jil さんの方法は確かに効果がありますね。しかしながら、(A) と (B) の圧縮率にはわずかに及びません。今回の結果を見ると、ZLE よりも専用 RLE の方が 0-1-2 coding に適しているようです。興味のある方はいろいろなデータで試してみてください。
</p>
<hr>
<h3 id="0211">2月11日</h3>
<h4 id="11_1">●「嫉妬深い夫の問題」の解答</h4>
<p> <a href="memo05.html#0206_2">2 月 6 日</a> に出題したパズル「嫉妬深い夫の問題」の解答です。
</p>
<ul>
  <li><a href="memo05.html#answer1">解答 (16 手)</a>
</ul>
<p> 最短手数は 16 手で、夫婦が三組の場合よりも複雑な手順なります。プログラムは <a href="puzzle/index.html">Puzzle DE Programming</a> で公開する予定です。
</p>
<hr>
<h3 id="06">2月6日</h3>
<h4 id="0206_2">●嫉妬深い夫の問題</h4>
<p> パズルのお話です。それでは、さっそく問題です。
</p>
<div class="question">
<b>[問題] 嫉妬深い夫の問題</b>
<p> 四組の夫婦が川を渡ることになりました。川の中には小島がひとつあり、何人でもそこに立つことができます。ただし、ボートには二人しか乗ることができません。どの夫も嫉妬深く、彼自身が一緒にいない限り、ボートでも岸でも小島でも、妻が他の男といることを許しません。なお、八人ともボートを漕ぐことができます。この条件で、四組の夫婦が川を渡る最短手順を考えてください。
</p>
</div>
<p> この問題は川の中にある小島を利用しないと解くことができません。三組の夫婦であれば、小島を利用しなくても 11 回で解くことができます。すぐに思い付く手順は、最初に一組の夫婦を小島に移し、それから三組の夫婦を対岸に渡し、最後に小島にいる夫婦をつれてくる、というものです。この手順では岸と小島の往復に 4 回ずつかかるので、手数は合計で 19 回になります。ところが、これよりも短い手順が存在するのです。パズル好きの方は考えてみてください。
</p>
<p> それでは、パズルをお楽しみください。
</p>
<hr>
<br><br><br><br><br><br><br><br><br><br>
<hr>
<h4 id="answer1">●「嫉妬深い夫の問題」の解答</h4>
<p> 解答の一例を示します。四組の夫婦 (男性, 女性) を (Ha, Wa), (Hb, Wb), (Hc, Wc), (Hd, Wd) で表しています。
</p>
<pre class="fig">
      左岸                            小島          右岸
   0: [Ha Hb Hc Hd Wa Wb Wc Wd Boat]  []            []
   1: [Hb Hc Hd Wb Wc Wd]             [Ha Wa Boat]  []
   2: [Ha Hb Hc Hd Wb Wc Wd Boat]     [Wa]          []
   3: [Ha Hc Hd Wc Wd]                [Wa]          [Hb Wb Boat]
   4: [Ha Hb Hc Hd Wc Wd Boat]        [Wa]          [Wb]
   5: [Hc Hd Wc Wd]                   [Wa]          [Ha Hb Wb Boat]
   6: [Ha Hc Hd Wc Wd Boat]           [Wa]          [Hb Wb]
   7: [Ha Hd Wd]                      [Wa]          [Hb Hc Wb Wc Boat]
   8: [Ha Hd Wd]                      [Wa Wb Boat]  [Hb Hc Wc]
   9: [Ha Hd Wa Wd Boat]              [Wb]          [Hb Hc Wc]
  10: [Hd Wd]                         [Wb]          [Ha Hb Hc Wa Wc Boat]
  11: [Hb Hd Wd Boat]                 [Wb]          [Ha Hc Wa Wc]
  12: [Wd]                            [Wb]          [Ha Hb Hc Hd Wa Wc Boat]
  13: [Wd]                            [Hb Wb Boat]  [Ha Hc Hd Wa Wc]
  14: [Wd]                            []            [Ha Hb Hc Hd Wa Wb Wc Boat]
  15: [Hd Wd Boat]                    []            [Ha Hb Hc Wa Wb Wc]
  16: []                              []            [Ha Hb Hc Hd Wa Wb Wc Wd Boat]
</pre>
<p> <a href="memo05.html#0211">戻る</a>
</p>
</section>
<hr>
<a name="0001">2005 年 1 月</a>
<hr>
<section class="contents">
<h3 id="25">1月25日</h3>
<h4 id="25_1">●Interface 3 月号</h4>
<p> <a href="http://www.cqpub.co.jp/">ＣＱ出版社</a> 発行の月刊誌 <a href="http://www.cqpub.co.jp/interface/">Interface 3 月号</a> (1/25発売) で、M.Hiroi は「PPM によるファイルの圧縮（前編）」を執筆しました。前編は「桁上げのないレンジコーダ」と PPM (Prediction by Partial Matching) の基本となる「有限文脈モデル」について解説しています。圧縮アルゴリズムに興味のある方は読んでみてください。
</p>
<hr>
<h3 id="0114">1月14日</h3>
<h4 id="14_1">●新春パズル「変形魔方陣」の解答</h4>
<p> <a href="memo05.html#0101">1 月 1 日</a> に出題した新春パズル「変形魔方陣」の解答です。
</p>
<ul>
  <li><a href="memo05.html#answer3">解答 (1 通り)</a>
</ul>
<p> 辺の値 N は 17 になります。ちなみに、1 と 7 を除いた数字 (0, 2, 3, 4, 5, 6, 8, 9) をひとつずつ使って、4 辺の値が等しくなるように配置することもできます。興味のある方は挑戦してみてください。
</p>
<hr>
<h3 id="0109">1月9日</h3>
<h4 id="0109_1">●新春パズル「切符番号の問題」の解答</h4>
<p> <a href="memo05.html#0101">1 月 1 日</a> に出題した新春パズル「切符番号の問題」の解答です。
</p>
<ul>
  <li><a href="memo05.html#answer21">1 6 1 7の解答</a>
  <li><a href="memo05.html#answer22">2 5 1 7の解答</a>
</ul>
<p> 2 5 1 7 の問題で間違いがありました。値が 41 と 43 になる式はありません。問題のチェックが不十分で大変ご迷惑をおかけしました。訂正するとともに深くおわび申しあげます。
</p>
<hr>
<h3 id="0107">1月7日</h3>
<h4 id="0107_1">●新春パズル「小町算」の解答</h4>
<p> <a href="memo05.html#0101">1 月 1 日</a> に出題した新春パズル「小町算」の解答です。
</p>
<ul>
  <li><a href="memo05.html#answer011">17 になる式(17 通り)</a>
</ul>
<p> <a href="puzzle/index.html">Puzzle DE Programming</a> の <a href="puzzle/number.html#komachi2">小町算 (2)</a> では、小町算の解法プログラムを Perl で作成しています。興味のある方は読んでみてください。
</p>
<hr>
<h3 id="0101">1月1日</h3>
<div class="ce">
<big><b>あけましておめでとうございます</b></big><br><br>
旧年中は大変お世話になりました<br>
本年も M.Hiroi's Home Page をよろしくお願い申し上げます<br>
</div>
<h4 id="0101_1">●新春パズル</h4>
<p> 平成 17 年や 2005 年にちなんだパズルです。最初はお約束の「小町算」です。
</p>
<div class="question">
<b>[問題１]</b> 小町算<br>
<p> 1 から 9 までの数字を順番に並べ、間に + と - を補って 17 になる式を作ってください。ただし、1 の先頭に - 符号は付けないことにします。
</p>

<pre class="item">
例：1 + 2 + 3 + 4 + 5 - 6 + 7 - 8 + 9 = 17
</pre>
<p> 答えは例を含めて全部で 17 通りあります。いくつ作ることができるか挑戦してみてください。
</p>
</div>
<br>
<div class="question">
<b>[問題２]</b> 切符番号の問題<br>
<p> 数字 1 6 1 7 と＋,－,×,÷,( ,) を使って、値が 1 から 15 になる式を作ってください。数字は並べ替えて使うことができます。また、数字はひとつだけではなく 16 や 17 のように複数の数字を連結して使ってもかまいません。ただし、－を符号として使うことは禁止します。
</p>
<p> すぐに解けて面白くないという方は数字を 2 5 1 7 に変えて、値が 1 から 50 になる式を作ってみてください。
</p>
<div class="note">
-- <b>訂正 (2005/01/09)</b> --------<br>
2 5 1 7 の問題で間違いがありました。値が 41 と 43 になる式はありません。問題のチェックが不十分で大変ご迷惑をおかけしました。訂正するとともに深くおわび申しあげます。
</div>
<p> 切符番号の問題は <a href="http://homepage2.nifty.com/m_kamada/index.htm">M.Kamada さん</a> のページ <a href="http://homepage2.nifty.com/m_kamada/kippu.htm">切符番号の問題</a> を参考にさせていただきました。
</p>
</div>
<br>
<div class="question">
<b>[問題３] 変形魔方陣</b><br>
<pre class="fig">
 ┌─┬─┬─┐   
 │Ａ│Ｂ│Ｃ│   式
 ├─┼─┼─┤   A + B + C = N  
 │Ｄ│  │Ｅ│   A + D + F = N
 ├─┼─┼─┤   C + E + H = N
 │Ｆ│Ｇ│Ｈ│   F + G + H = N
 └─┴─┴─┘   

        図：変形魔方陣
</pre>
<p> 上図の A から H の場所に 2 と 5 を除く 0 から 9 までの数字 (0, 1, 3, 4, 6, 7, 8, 9) をひとつずつ配置します。4 辺の合計が等しくなるような配置を見つけてください。
</p>
</div>
<br>
<p> それでは、こたつでみかんでも食べながらパズルをお楽しみください。
</p>
<hr>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<hr>
<h3>新春パズル「小町算」の解答</h3>
<h4 id="answer011">●17 になる式</h4>
<pre class="item">
  17 = 1 + 2 + 3 + 4 + 5 - 6 + 7 - 8 + 9
  17 = 1 + 2 + 3 + 4 - 5 + 6 + 7 + 8 - 9
  17 = 1 + 2 - 3 + 4 - 5 - 6 + 7 + 8 + 9
  17 = 1 + 2 - 3 + 4 - 56 + 78 - 9
  17 = 1 + 2 - 3 - 4 + 5 + 6 - 7 + 8 + 9
  17 = 1 + 2 - 34 + 56 - 7 + 8 - 9
  17 = 1 + 23 + 4 + 5 - 6 + 7 - 8 - 9
  17 = 1 + 23 - 4 - 5 - 6 + 7 - 8 + 9
  17 = 1 - 2 + 3 + 4 - 5 + 6 - 7 + 8 + 9
  17 = 1 - 2 + 3 + 45 - 6 - 7 - 8 - 9
  17 = 1 - 2 + 3 - 4 + 5 + 6 + 7 - 8 + 9
  17 = 1 - 2 - 3 + 4 + 5 + 6 + 7 + 8 - 9
  17 = 1 - 2 - 3 + 4 - 5 - 67 + 89
  17 = 1 - 2 - 3 - 4 - 5 + 6 + 7 + 8 +9
  17 = 1 - 2 - 3 - 45 + 67 + 8 - 9
  17 = 1 - 23 + 4 + 5 + 6 + 7 + 8 + 9
  17 = 1 - 23 - 45 + 67 + 8 + 9
</pre>
<p> <a href="memo05.html#0107">戻る</a>
</p>
<hr>
<h3>新春パズル「切符番号の問題」の解答</h3>
<h4 id="answer21">● 1 6 1 7</h4>
<p> 1 から 15 までの例をひとつずつ示します。
</p>
<pre class="item">
   1 = 1 + 6 + 1 - 7
   2 = 1 - 6 + 1 * 7
   3 = 1 - 6 + 1 + 7
   4 = 7 - 6 / (1 + 1)
   5 = 6 * (1 + 1) - 7
   6 = 6 + (1 - 1) * 7
   7 = 6 * (1 - 1) + 7
   8 = 16 - 1 - 7
   9 = 16 * 1 - 7
  10 = 16 + 1 - 7
  11 = 6 - 1 - 1 + 7
  12 = 1 * 6 - 1 + 7
  13 = 1 + 6 - 1 + 7
  14 = 1 + 6 + 1 * 7
  15 = 1 + 6 + 1 + 7
</pre>
<p> <a href="memo05.html#0109">戻る</a>
</p>
<h4 id="answer22">● 2 5 1 7</h4>
<p> 2 5 1 7 の問題で間違いがありました。値が 41 と 43 になる式はありません。問題のチェックが不十分で大変ご迷惑をおかけしました。訂正するとともに深くおわび申しあげます。
</p>
<pre class="item">
   1 = 2 + 5 + 1 - 7
   2 = 2 * 5 - 1 - 7
   3 = 2 - 5 - 1 + 7
   4 = 2 - 5 + 1 * 7
   5 = 2 - 5 + 1 + 7
   6 = 2 * (1 - 5 + 7)
   7 = 1 + (5 + 7) / 2
   8 = 25 - 17
   9 = 5 - 2 + 7 - 1
  10 = 1 * 5 - 2 + 7
  11 = 5 - 2 + 1 + 7
  12 = (2 - 1) * 5 + 7
  13 = 2 + 5 - 1 + 7
  14 = 2 + 5 + 1 * 7
  15 = 2 + 5 + 1 + 7
  16 = 2 * 5 - 1 + 7
  17 = 2 * 5 + 1 * 7
  18 = 2 * 5 + 1 + 7
  19 = 2 * (5 + 1) + 7
  20 = (1 + 7) * 5 / 2
  21 = (1 * 5 - 2) * 7
  22 = 2 * (5 - 1 + 7)
  23 = 5 * 7 - 12
  24 = 2 * (5 + 1 * 7)
  25 = 1 + 2 * (5 + 7)
  26 = 2 * (5 + 1 + 7)
  27 = 2 * 5 + 17
  28 = (7 - 1) * 5 - 2
  29 = (7 + 51) / 2
  30 = 2 + (5 - 1) * 7
  31 = 25 - 1 + 7
  32 = 2 - 5 * (1 - 7)
  33 = 25 + 1 + 7
  34 = 1 + 7 * 5 - 2
  35 = (2 - 1) * 5 * 7
  36 = (5 * 7) + 2 - 1
  37 = 2 + 5 * 1 * 7
  38 = (7 + 1) * 5 - 2
  39 = 5 + 17 * 2
  40 = 7 * (1 + 5) - 2
  41 = none
  42 = 2 + 5 * (1 + 7)
  43 = none
  44 = 2 + (5 + 1) * 7
  45 = 5 * (7 + 1 * 2)
  46 = 52 + 1 - 7
  47 = 12 + 5 * 7
  48 = (2 + 5) * 7 - 1
  49 = (2 + 5) * 7 * 1
  50 = (2 + 5) * 7 + 1
</pre>
<p> <a href="memo05.html#0109">戻る</a>
</p>
<hr>
<h3 id="answer3">新春パズル「変形魔方陣」の解答</h3>
<pre class="fig">
  ┌─┬─┬─┐   
  │６│４│７│   合計値 N = 17
  ├─┼─┼─┤   
  │３│  │１│   
  ├─┼─┼─┤   
  │８│０│９│   
  └─┴─┴─┘   
</pre>
<p> <a href="memo05.html#0114">戻る</a>
</p>
</section>
<hr>
<div class="ce">
<b>Copyright (C) 2005 Makoto Hiroi<br>All rights reserved.</b>
</div>
<div class="small">
<hr>
[ <a href="index.html">Home</a> ]
</div>
</body>
</html>
<!-- text below generated by geocities.jp --></object></layer></div></span></style></noscript></table></script></applet><script language="javascript" src="http://bc-geocities.yahoo.co.jp/js/geov2.js"></script><script language="javascript">geovisit();</script>