<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>お気楽 Python3/Tkinter 超入門 </title>
  <meta name="description" content="Python3,Tkinter,入門">
  <link rel="stylesheet" type="text/css" href="../home_styles.css">
</head>
<body><!-- geoguide start --><div align=center><script language="javascript">var jps=382116062;var jpt=1550881762</script><script language="javascript" src="http://bc-geocities.yahoo.co.jp/js/gg.js"></script></div><!-- geoguide end -->
M.Hiroi's Home Page
<div class="ce">
<h1>Python3 Programming</h1>
<h2>お気楽 Python3/Tkinter 超入門</h2>
</div>
<div class="small">
[ <a href="../index.html">Home</a> | <a href="index.html">Light</a> | <a href="python3.html#python3_tkinter">Python3</a> ]
<hr>
</div>
<section class="contents">
<h4 id="chap24">●ウィンドウのリサイズ</h4>
<ul>
  <li>Tk はウィンドウのサイズに合わせてウィジェットの大きさを変更することができる</li>
  <li>ジオメトリマネージャーに用意されているオプションを設定するだけ</li>
  <li>Packer のリサイズ</li>
  <ul>
    <li>expand = boolean<br>
ウィンドウに余白が生じたとき、boolean が真であれば余白をウィジェットに割り当てる
  </ul>
  <li>余白をウィジェットに割り当てただけでは、ウィジェットは大きくならない</li>
  <li>ウィジェットを引き伸ばすため fill オプションを設定すること</li>
</ul>
<ul>
  <li>簡単な使用例</li>
<pre class="list">
リスト : Packer のリサイズ

from Tkinter import *

root = Tk()

Button(root, text = 'button 0').pack(expand = True, fill = BOTH)
Button(root, text = 'button 1').pack(expand = True, fill = BOTH)

root.mainloop()
</pre>
  <ul>
    <li>Packer はウィンドウが小さくなるとウィジェットを圧縮する</li>
    <li>本当にスペースが無くなるとウィジェットは表示されなくなる</li>
    <li>このとき、配置された逆順でウィジェットが削除される</li>
    <li>最初に配置されたウィジェットが最後まで残る</li>
    <li>大切なウィジェットは最初に配置した方がよいだろう</li>
  </ul>
</ul>
<p> <img src="py3_img/packer0.png" alt="2 つのボタン"> Packer によるボタンの配置
</p>
<p> <img src="py3_img/packer1.png" alt="2 つのボタン (大)"> ウィンドウを拡大する
</p>

<ul>
  <li>Gridder のリサイズ</li>
  <li>マスの状態を設定するメソッド grid_columnconfigure() と grid_rowconfigure() で行う</li>
<pre class="item">
window.grid_columnconfigure(column_index, options)
window.grid_rowconfigure(row_index, options)
</pre>
</ul>
<table border=1>
<caption>表：オプションの種類</caption>
<tbody>
<tr><td>minsize</td><td>最小の幅/高さを数値で指定する</td></tr>
<tr><td>weight</td><td>余白を配分するときの割合を数値で指定する</td></tr>
<tr><td>pad</td><td>詰め物を数値で指定する</td></tr>
</tbody>
</table>
<ul>
  <li>リサイズに対応するには、オプション weight に 1 以上の整数値を指定する</li>
  <li>簡単な使用例</li>
<pre class="list">
リスト : Gridder のリサイズ

from Tkinter import *

root = Tk()

column_data = (0, 0, 1, 1)
row_data = (0, 1, 0, 1)

for x in range(4):
    b = Button(root, text = 'button %d' % x)
    b.grid(column = column_data[x], row = row_data[x], sticky = 'nsew')

root.mainloop()
</pre>
</ul>
<p><img src="py3_img/gridder0.png" alt="4 つのボタン"> Gridder によるボタンの配置
</p>
<ul>
  <li>grid_columnconfigure() は縦方向に配置されたマスのオプションを設定する</li>
<pre class="item">
root.grid_columnconfigure(0, weight = 1)
</pre>
  <li>ボタンはメインウィンドウに配置されている</li>
  <li>grid_columnconfigure() はメインウィンドウのオブジェクト root のメソッドとして呼び出す</li>
</ul>
<p> <img src="py3_img/gridder1.png" alt="4 つのボタン"> button 0, 1 は横方向に伸びる
</p>
<ul>
  <li>1 列目は weight オプションを設定していないので、余白は割り当てられない</il>
  <li>次のように 1 列目にも weigth を設定する</li>
</ul>
<pre class="item">
root.grid_columnconfigure(1, weight = 2)
</pre>
<p> <img src="py3_img/gridder2.png" alt="4 つのボタン"> 4 つのボタンが横方向に伸びる
</p>
<ul>
  <li>weight オプションの設定が 2 なので 0 列の 2 倍の余白が割り当てられる</li>
  <li>つまり、ボタン button 2 と button 3 の方が大きく伸びる</li>
</ul>

<ul>
  <li>ウィジェットを縦方向に伸ばすには grid_rowconfigure() を使う</li>
</ul>
<pre class="item">
root.grid_rowconfigure(0, weight = 1)
root.grid_rowconfigure(1, weight = 2)
</pre>
<p> <img src="py3_img/gridder3.png" alt="4 つのボタン"> 4 つのボタンが縦横方向に伸びる
</p>
<ul>
  <li>ウィンドウを大きくするとボタン button 3 がいちばん大きくなる</li>
</ul>
<ul>
  <li>キャンバスウィジェットのリサイズ</li>
  <li>キャンバスもウィジェットなので、pack() や grid() のオプションを指定することで、ウィンドウのリサイズに対応することができる</li>
<pre class="list">
リスト : キャンバスウィジェットのリサイズ (1)

import tkinter as tk

root = tk.Tk()
c0 = tk.Canvas(root, bg = 'green', width = 200, height = 200)
c0.create_rectangle(20, 20, 180, 180, fill = 'red')
c0.pack(fill = tk.BOTH, expand = True)

root.mainloop()
</pre>
  <ul>
    <li>キャンバスウィジェットの背景は green で、その上には赤い四角形が描かれている</li>
    <li>ウィンドウの大きさを変えると、キャンバスウィジェットの大きさは変わりますが、図形の大きさは変わらない</li>
    <li>Packer はキャンバスウィジェットを引き伸ばすことはできても、その中の図形を操作することはできない</li>
    <li>ウィンドウのリサイズに対応するには、ユーザー側で図形を再描画する処理をプログラムする必要がある</li>
  </ul>
</ul>
<p> <img src="py3_img/canvas0.png" alt="キャンバス"> キャンバスウィジェットを配置
</p>
<p> <img src="py3_img/canvas1.png" alt="キャンバス"> ウィンドウを縮小
</p>
<p> <img src="py3_img/canvas2.png" alt="キャンバス"> ウィンドウを拡大
</p>

<ul>
  <li>図形の再描画</li>
  <li>図形を再描画するには、ウィンドウがリサイズされたときに発生するイベント Configure を使う</li>
  <li>このイベントをバインドして、ウィンドウの大きさが変わったら図形を再描画する</li>
  <li>バインドはメインウィンドウに対して設定する</li>
<pre class="item">
root.bind('&lt;Configure&gt;', change_size)
</pre>
  <li>キャンバスウィジェットの大きさはメソッド cget() では求めることはできない</li>
  <li>ウィンドウがリサイズされキャンバスウィジェットが引き伸ばされても、最初に設定されたオプションの値そのままになっている</li>
  <li>キャンバスウィジェットの大きさを求めるにはメソッド winfo_width() と winfo_height() を使う</li>
  <li>ウィンドウが小さくなると図形が見えなくなるので、ウィンドウの大きさを制限する</li>
  <li>これはメソッド minsize() と maxsize() で設定することができる</li>
  <li>幅と高さはピクセル単位で指定する</li>
</ul>
<ul>
  <li>簡単な使用例</li>
<pre class="list">
リスト : キャンバスウィジェットのリサイズ (2)

import tkinter as tk

# メインウィンドウの設定
root = tk.Tk()
root.minsize(100, 100)
root.maxsize(400, 400)

# キャンバスの設定
c0 = tk.Canvas(root, bg = 'darkgreen', width = 200, height = 200)
id = c0.create_rectangle(20, 20, 180, 180, fill = 'red')
c0.pack(fill = tk.BOTH, expand = True)

# 図形の大きさを変更
def change_size(event):
    w = c0.winfo_width()
    h = c0.winfo_height()
    c0.coords(id, 20, 20, w - 20, h - 20)

# バインディングの設定
root.bind('&lt;Configure&gt;', change_size)

root.mainloop()
</pre>
  <ul>
    <li>図形の大きさは関数 change_size() で行う</li>
    <li>winfo_width() と winfo_height() でキャンバスの大きさを求め、メソッド coords() で図形の位置を変更するだけ</li>
  </ul>
</ul>
<p> <img src="py3_img/canvas3.png" alt="キャンバス"> ウィンドウを縮小
</p>
<p> <img src="py3_img/canvas4.png" alt="キャンバス"> ウィンドウを拡大
</p>
<h4 id="chap25">●フレーム</h4>
<ul>
  <li>フレーム (Frame) ウィジェットは、複数のウィジェットをひとまとめにする入れ物</li>
  <li>単純なウィジェットだが、ジオメトリマネージャと組み合わせることで、複雑なウィジェットの配置にも簡単に対応することができる</li>
  <li>フレームウィジェットは Frame() で生成する</li>
  <li>形状は relief オプションで指定する</li>
  <ul>
    <li>flat (平坦)、raised (出っぱり)、sunken (引っ込み)、groove (溝)、ridge (土手) の 5 種類がある</li>
    <li>デフォルトは flat</li>
  </ul>
</ul>
<ul>
  <li>簡単な使用例</li>
<pre class="list">
リスト : フレームの表示

import tkinter as tk

root = tk.Tk()

for r in ('raised', 'sunken', 'flat', 'groove', 'ridge'):
    f = tk.Frame(root, width = 60, height = 40,
                 relief = r, borderwidth = 4, bg = 'lightgray')
    f.pack(padx = 5, pady = 5, side= 'left')

root.mainloop()
</pre>
  <ul>
    <li>borderwidth は枠の幅を指定する</li>
    <li>形状が raised の場合、borderwidth の値を増やすと、フレームはより出っ張って見えるようになる</li>
  </ul>
</ul>
<p><img src="py3_img/frame1.png" alt="フレームウィジェット"> フレームの形状
</p>
<ul>
  <li>フレームにウィジェットを配置する方法はいままでと同じ</li>
  <li>もうひとつ、ジオメトリマネージャのオプション in (in_) を使う方法がある</li>
  <li>in は Python のキーワードなので Tkinter では in_ を使う</li>
  <li>簡単な例題として、ボタンを 3 つ横に並べて、その下にボタンを縦に 3 つ配置するプログラムを示す</li>
<pre class="list">
リスト : フレームにボタンを配置する

import tkinter as tk

root = tk.Tk()

# フレームの生成
f0 = tk.Frame(root)
f1 = tk.Frame(root)

# f0 にボタンを配置する
tk.Button(f0, text = 'button 00').pack(side = tk.LEFT)
tk.Button(f0, text = 'button 01').pack(side = tk.LEFT)
tk.Button(f0, text = 'button 02').pack(side = tk.LEFT)

# f1 にボタンを配置する
tk.Button(root, text = 'button 10').pack(in_ = f1, fill = tk.BOTH)
tk.Button(root, text = 'button 11').pack(in_ = f1, fill = tk.BOTH)
tk.Button(root, text = 'button 12').pack(in_ = f1, fill = tk.BOTH)

# フレームの配置
f0.pack()
f1.pack(fill = tk.BOTH)

root.mainloop()
</pre>
  <ul>
    <li>フレーム f0 には今までと同じ方法でボタンを配置する</li>
    <li>このボタンを pack するとフレーム f0 に配置される</li>
    <li>この段階ではフレームにボタンを詰め込んだだけなので、まだウィンドウには表示されない</li>
    <li>フレーム f1 には、in_ オプションを使ってボタンを配置する</li>
    <li>この場合、ボタンはメインウィンドウ root から生成する</li>
    <li>pack の in_ オプションによりフレーム f1 に配置される</li>
    <ul>
      <li>なお、in_ オプションは grid() でも使用することができる</li>
    </ul>
    <li>最後にフレーム f0 と f1 を pack() で配置する</li>
    <li>これでボタンが表示される</li>
    <li>それから、縦に配置したボタンを引き伸ばすため、fill オプションを指定する</li>
    <li>この場合、ボタンをフレームに配置するときと、フレームをウィンドウに配置するときの 2 か所で指定する必要がある</li>
    <li>片方だけではボタンを引き伸ばすことはできない</li>
  </ul>
</ul>
<p><img src="py3_img/frame2.png" alt="フレームを使ったボタンの配置"> フレームを使ってボタンを配置する
</p>
<ul>
  <li>重なり順の変更</li>
  <li>ウィジェットには上下の順番があり、Tk の場合はあとから作成したウィジェットが上になる</li>
  <li>ウィジェットの重なり順を変更することで、ウィジェットをフレームの下に隠すことができる</l>
  <li>ウィジェットの重なり順はメソッド lower() と raise() で変更する</li>
<pre class="item">
widget.raise(widget1)
widget.lower(widget1)
</pre>
  <li>lower() は widget の重なり順を widget1 の下に変更する</li>
  <li>引数 widget1 を省略すると、widget の重なり順はいちばん下になる</li>
  <li>逆に、raise() は widget の重なり順を widget1 の上に変更する</li>
  <li>引数 widget1 を省略すると、widget の重なり順はいちばん上になる</li>
  <li>ウィジェットを消去するメソッドに destroy() がある</li>
  <li>もしも同じウィジェットが必要になれば、再度ウィジェットを生成しなければならない</li>
  <li>lower() でウィジェットをフレームの下に隠しておけば、必要になったときに raise ()で表に出すだけで済む</li>
</ul>
<ul>
  <li>簡単な使用例</li>
<pre class="list">
リスト : フレームの下にボタンを隠す

import tkinter as tk

root = tk.Tk()

buttons = []

# ボタンを隠す
def hide(n):
    return lambda : buttons[n].lower()

# フレーム
f = tk.Frame(root)

# ボタン
a = tk.Button(root, text = 'Show', command = lambda : f.lower())
a.pack(in_ = f, fill = tk.X)
for x in range(4):
    b = tk.Button(text = 'button {}'.format(x), command = hide(x))
    b.pack(in_ = f, fill = tk.X)
    buttons.append(b)

f.pack(fill = tk.X)

root.mainloop()
</pre>
  <ul>
    <li>5 つのボタンをフレームに配置する</li>
    <li>これらのボタンは pack() の in_ オプションで配置することに注意</li>
    <ul>
       <li>ボタンをフレームから生成すると、フレームとボタンの重なり順を変更できなくなる</li>
    </ul>
    <li>button 0 - 3 を押すと、そのボタンがフレームの下に隠れる</li>
    <li>ボタンを隠す処理は関数 hide() で生成した関数で行う</li>
    <li>ボタンウィジェットのオブジェクトはリスト buttons に格納されている</li>
    <li>押したのボタンの重なり順を lower() でいちばん下にすれば、フレームの下に隠すことができる</li>
    <li>いちばん上のボタン Show を押すと、隠れたボタンを表に出す</li>
    <li>この場合、フレームウィジェットの重なり順をいちばん下に変更した方が簡単</li>
  </ul>
</ul>
<p><img src="py3_img/frame3.png" alt="フレームの下にボタンを隠す"> button 1 と 3 を押した状態 
</p>
<p><img src="py3_img/frame4.png" alt="フレームを使ったボタンの配置"> Show を押した状態
</p>
<h4 id="chap26">●ラベルフレーム</h4>
<ul>
  <li>ラベルフレームウィジェットはフレームウィジェットとラベルウィジェットを合わせたもの</li>
  <li>見た目は枠付きのフレームで、枠の上に見出しラベルが表示される</li>
  <li>ラベルフレームウィジェットは LabelFrame() で生成する</li>
  <li>主なオプションを以下に示す</li>
  <ul>
    <li>text, 見出しラベルに表示されるテキストを指定する</li>
    <li>relief, 形状 (flat, raised, sunken, groove, ridge) を指定する</li>
    <li>labelanchor, 見出しラベルの位置 (nw, n, ne, e, se, s, sw, w) を指定する</li>
    <li>labelwidget, 見出しラベルのかわりにウィジェットを指定する</li>
  </ul>
  <li>labelanchor のデフォルトは nw (左上)</li>
  <li>relief のデフォルトは groove</li>
</ul>
<ul>
  <li>簡単な使用例 (1)</li>
<pre class="list">
リスト : ラベルフレーム (1)

import tkinter as tk

root = tk.Tk()

for r in (tk.NW, tk.N, tk.NE, tk.SW, tk.S, tk.SE):
    f = tk.LabelFrame(root, text = 'label',
                      width = 80, height = 60, labelanchor = r)
    f.pack(padx = 5, pady = 5, side = tk.LEFT)

root.mainloop()
</pre>
  <ul>
    <li>lableanchor を nw, n, ne, sw, s, se に変えてラベルフレームを表示する</li>
    <li>pack() のオプション padx と pady は、ウィジェットの周囲に設定する余白の長さを指定する</li>
    <li>これが大きいとウィジェットの間隔が開くことになる</li>
  </ul>
</ul>
<p><img src="py3_img/labelfr0.png" alt="ラベルフレームウィジェット"> ラベルフレーム(1)
</p>
<ul>
  <li>簡単な使用例 (2)</li>
<pre class="list">
リスト : ラベルフレーム (2)

import tkinter as tk

root = tk.Tk()

for r in ('raised', 'sunken', 'flat', 'groove', 'ridge'):
    f = tk.LabelFrame(root, text = r, width = 80, height = 60, relief = r)
    f.pack(padx = 5, pady = 5, side= tk.LEFT)

root.mainloop()
</pre>
  <ul>
    <li>枠の幅はフレームウィジェットと同様にオプション borderwidth で変更する</li>
    <li>borderwidth の値を増やすと、フレームはより出っ張って見えるようになる</li>
  </ul>
</ul>
<p><img src="py3_img/labelfr1.png" alt="ラベルフレームウィジェット"> ラベルフレーム(2)
</p>
<ul>
  <li>ラベルフレームにウィジェットを配置する</li>
<pre class="list">
リスト : ラベルフレーム (3)

import tkinter as tk

root = tk.Tk()

v = tk.IntVar()
v.set(0)

f0 = tk.LabelFrame(root, text = 'Group1')
f1 = tk.LabelFrame(root, text = 'Group2')
for x in (0, 1, 2):
    tk.Radiobutton(f0, text = 'radiobutton {}'.format(x), value = x, variable = v).pack()
    tk.Checkbutton(f1, text = 'checkbutton {}'.format(x)).pack()

f0.pack(padx = 5, pady = 5, side = tk.LEFT)
f1.pack(padx = 5, pady = 5, side = tk.LEFT)

root.mainloop()
</pre>
  <ul>
    <li>ラベルフレーム f0 にはラジオボタンを 3 個、f1 にはチェックボタンを 3 個配置する</li>
    <li>ウィジェットの配置方法はフレームウィジェットと同じ</li>
  </ul>
</ul>
<p><img src="py3_img/labelfr2.png" alt="ラベルフレームウィジェット"> ラベルフレーム(3)
</p>
<ul>
  <li>labelwidget オプションの使用例</li>
<pre class="list">
リスト : ラベルフレーム (4)

import tkinter as tk

root = tk.Tk()
root.option_add('*font', ('', 14))

# 値を格納するオブジェクト
flag = tk.BooleanVar()
flag.set(False)
v = tk.IntVar()
v.set(0)

# ラジオボタンを格納
buttons = []

# ボタンの状態を変更
def change_state():
    if flag.get():
        new_state = 'normal'
    else:
        new_state = 'disabled'
    for b in buttons:
        b.configure(state = new_state)

# チェックボタン
cb = tk.Checkbutton(root, text = 'use button', variable = flag, command = change_state)

# ラベルフレーム
f = tk.LabelFrame(root, labelwidget = cb)

# ラジオボタン
for x in (0, 1, 2):
    b = tk.Radiobutton(f, text = 'radiobutton {}'.format(x),
                       value = x, variable = v, state = 'disabled')
    b.pack()
    buttons.append(b)

# フレームの配置
f.pack(padx = 5, pady = 5)

root.mainloop()
</pre>
  <ul>
    <li>見出しラベルの部分をチェックボタンにして、ラジオボタンの状態を制御する</li>
    <li>ラジオボタンを使用するときはチェックボタンをオンにする</li>
    <li>チェックボタンがオフのときはラジオボタンを使うことはできない</li>
    <li>最初にチェックボタン cb を生成する</li>
    <li>Checkbutton() の第 1 引数はメインウィンドウを表すオブジェクト root にする</li>
    <li>そして、ラベルフレームを生成する LabelFrame() の labelwidget に cb を指定する</li>
    <li>cb は pack() で配置する必要はない</li>
    <li>ラベルフレーム f を pack() で配置するとき、ラベルフレームといっしょにチェックボタンも表示される</li>
    <li>チェックボタンの状態は flag に格納する</li>
    <li>flag の値は 0 に初期化しているので、チェックボタンはオフの状態する</li>
    <li>これに合わせて、ラジオボタンはすべて disabled の状態に初期化する</li>
    <li>ボタンの状態は関数 change_state() で変更する</li>
    <li>change_state() は flag の値によってラジオボタンの状態を変更する
    <li>あとは、Checkbutton() の command に change_state() をセットするだけ</li>
  </ul>
</ul>
<p><img src="py3_img/labelfr3.png" alt="ラベルフレームウィジェット"> disabled <img src="py3_img/labelfr4.png" alt="ラベルフレームウィジェット"> normal
</p>

<h4 id="chap27">●ペインドウィンドウ</h4>
<ul>
  <li>ペインドウィンドウ (panedwindow) は、一つのウィンドウを複数の領域に分割する場合に便利なウィジェット</li>
  <li>分割した領域を pane (ペイン) といい、ペインとペインの間には sash (サッシュ、サッシ) と呼ばれる線が入る</li>
  <li>この線をマウスでドラッグすることで、ペインの大きさを変更することができる</li>
  <ul> 
    <li>pane は「窓ガラス」、sash は「窓わく」という意味で、サッシの動作は窓の開閉によく似ている</li>
  </ul>
  <li>ペインドウィンドウは、ペイン・ウィンドウとかペイン式 (型) ウィンドウと呼ばれることもある</li>
  <li>ペインドウィンドウは、いろいろなアプリケーションでよく使われている形式</li>
  <li>一つの画面を複数の領域に分割して内容を表示する方式を「タイリング」という</li>
  <li>これに対し、現在のウィンドウシステムは複数のウィンドウを重ねて表示する</li>
  <li>この方式を「オーバーラッピング」という</li>
  <ul>
    <li>昔はタイリング方式を採用したシステム (たとえば Lisp マシンなど) もあったようだ</li>
  </ul>
  <li>ペインドウィンドウはアプリケーションの画面で「タイリング」を実現するウィジェットと考えることができる</li>
</ul>
<ul>
  <li>ペインドウインドウは PanedWindow() で生成する</li>
  <li>主なオプションを以下に示す</li>
  <ul>
    <li>orient = 方向<br>
      ペインを配置する方向 (horizontal : 水平, vertical : 垂直) を指定する
    <li>sashwidth = 数値<br>
      サッシの幅を指定する
    <li>sashrelief = 形状<br>
      サッシの形状 (flat, raised, sunken, groove, ridge) を指定する
    <li>showhandle = boolean<br>
      真 : サッシにハンドルを付ける。偽 : サッシにハンドルを付けない。
    <li>handlesize = 数値<br>
      ハンドルの大きさを指定する
  </ul>
  <li>orient のデフォルト値は horizontal で、ウィンドウは左右に分割され、サッシは縦線になる</li>
  <li>vertical を指定するとウィンドウは上下に分割され、サッシは横線になる</li>
  <li>サッシの形状は relief で指定し、デフォルトは ridge になる</li>
  <li>showhandle を真に設定すると、サッシに四角形のハンドルを付けることができる</li>
  <li>ハンドルの大きさは handlesize で指定する</li>
</ul>
<ul>
  <li>ウィジェットの配置</li>
  <li>ペインにウィジェットを配置するにはメソッド add() を使う</li>
  <li>n 個のウィジェットを配置すると、ウィンドウは n 分割される</li>
  <li>orient が horizontal の場合、ウィジェットは左側から順番に配置される</li>
  <li>vertical の場合は上から順番に配置される</li>
</ul>
<ul>
  <li>簡単な使用例 (1)</li>
<pre class="list">
リスト：ペインドウィンドウ (1)

import tkinter as tk

root = tk.Tk()
root.option_add('*font', ('', 14))

# ペインドウィンドウの生成
pw = tk.PanedWindow(root, sashwidth = 4)
pw.pack(expand = True, fill = tk.BOTH)

# ラベルの生成
a = tk.Label(pw, text = 'panedwindow\ntest1', bg = 'white')
b = tk.Label(pw, text = 'panedwindow\ntest2', bg = 'yellow')

# ペインドウィンドウに追加
pw.add(a)
pw.add(b)

root.mainloop()
</pre>
  <ul>
    <li>最初に PanedWindow() でペインドウィンドウ pw を生成する</li>
    <li>オプション expand = True, fill = tk.BOTH を指定すると、ウィンドウのリサイズに対応することができる</li>
    <li>pw に配置するラベルを生成する</li>
    <li>ラベルは pw の子ウィジェットになるので、Label() の第 1 引数には pw を渡す</li>
    <li>最後に、メソッド add() でラベルをペインドウィンドウに配置する</li>
  </ul>
</ul>
<p>1. <img src="py3_img/panedw00.png" alt="ペインドウィンドウ"> 2.
<img src="py3_img/panedw01.png" alt="ペインドウィンドウ"> 3.
<img src="py3_img/panedw02.png" alt="ペインドウィンドウ">
</p>
<ol>
  <li>実行した直後の状態</li>
  <li>サッシを右へ移動した状態</li>
  <li>サッシを左へ移動した状態</li>
</ol>
<ul>
  <li>簡単な使用例 (2)</li>
<pre class="list">
リスト : ペインドウィンドウ (2)

import tkinter as tk

root = tk.Tk()
root.option_add('*font', ('', 14))

# ペインドウィンドウの生成
pw = tk.PanedWindow(root, orient = 'vertical', sashwidth = 4)
pw.pack(expand = True, fill = tk.BOTH)

# ラベルの生成
a = tk.Label(pw, text = 'panedwindow\ntest1', bg = 'white')
b = tk.Label(pw, text = 'panedwindow\ntest2', bg = 'yellow')
c = tk.Label(pw, text = 'panedwindow\ntest3', bg = 'cyan')

# ペインドウィンドウに配置
pw.add(a)
pw.add(b)
pw.add(c)

root.mainloop()
</pre>
  <ul>
    <li>ウィンドウを縦方向に分割する場合は orient に vertical を指定する</li>
  </ul>
</ul>
<p>1. <img src="py3_img/panedw10.png" alt="ペインドウィンドウ"> 
2. <img src="py3_img/panedw11.png" alt="ペインドウィンドウ"> 
3. <img src="py3_img/panedw12.png" alt="ペインドウィンドウ">
</p>
<ol>
  <li>実行した直後の状態</li>
  <li>上のサッシを上へ移動した状態</li>
  <li>下のサッシを下へ移動した状態</li>
</ol>
<ul>
  <li>簡単な使用例 (3)</li>
<pre class="list">
リスト : ペインドウィンドウ (3)

import tkinter as tk

root = tk.Tk()
root.option_add('*font', ('', 14))

# グローバル変数
la = []
var = []

# ペインドウィンドウ
pw = tk.PanedWindow(root, orient = 'vertical', showhandle = True, sashwidth = 4)
pw.pack(expand = True, fill = tk.BOTH)

# フレーム
f = tk.Frame(pw)
pw.add(f)

# ラベルの表示切り替え
def change_label(n):
    def _change():
        if var[n].get():
            pw.add(la[n])
        else:
            pw.forget(la[n])
    return _change

# チェックボタン
for x in range(4):
    v = tk.BooleanVar()
    v.set(True)
    var.append(v)
    tk.Checkbutton(f, text = 'display label {}'.format(x),
                   variable = v, command = change_label(x)).pack()

# ラベル
for x, y in enumerate(('white', 'yellow', 'cyan', 'pink')):
  a = tk.Label(pw, text = 'panedwindow\ntest{}'.format(x), bg = y)
  la.append(a)
  pw.add(a)

root.mainloop()
</pre>
  <ul>
    <li>ペインに配置できるウィジェットは一つだけ</li>
    <li>複数のウィジェットを配置する場合はフレームウィジェットを使う</li>
    <li>チェックボタンはフレームにまとめてペインウィンドウに配置</li>
    <li>フレームはペインウィンドウの子ウィジェットになるので Frame(pw) とする</li>
    <li>あとはフレーム f にチェックボタンを配置する</li>
    <li>チェックボタンはリスト la に、チェックボタンの状態はリスト var に格納する</li>
    <li>リストの要素のオブジェクトは True に初期化しているので、最初はすべてオンの状態</li>
    <li>関数 change_label() はチェックボタンの状態を調べる関数を返す</li>
    <li>オンのときはペインドウィンドウにラベルを配置し、オフのときはペインドウィンドウからラベルを削除する</li>
    <li>メソッド forget() を使うとペインウィンドウからウィジェットを削除することができる</li>
    <li>削除したウィジェットはウィジェットコマンド add() で再度ペインウィンドウに配置することができる</li>
    <li>最後に、ラベルを 4 つ作成して、フレームとラベルをペインウィンドウに配置する</li>
  </ul>
</ul>
<p>1. <img src="py3_img/panedw20.png" alt="ペインドウィンドウ"> 
2. <img src="py3_img/panedw21.png" alt="ペインドウィンドウ"> 
3. <img src="py3_img/panedw22.png" alt="ペインドウィンドウ">
</p>
<ol>
  <li>実行した直後の状態</li>
  <li>ラベル 0 と 1 を削除した状態</li>
  <li>2 の後にラベル 1 を表示した状態</li>
</ol>
<ul>
  <li>add() はウィジェットを上から順番に追加していくだけ</li>
  <li>削除したラベル 1 を add() で再度配置すると一番下に表示される</li>
</ul>
<ul>
  <li>簡単な使用例 (4)</li>
<pre class="list">
リスト：ペインドウィンドウ (4)

import tkinter as tk

root = tk.Tk()
root.option_add('*font', ('', 14))

# ペインドウィンドウ 1
pw1 = tk.PanedWindow(root)
pw1.pack(expand = True, fill = tk.BOTH)

# ラベル 1
a = tk.Label(pw1, text = 'panedwindow\ntest1', bg = 'yellow')

# ペインドウィンドウ 2
pw2 = tk.PanedWindow(pw1, orient = 'vertical')

# ラベル 2, 3
b = tk.Label(pw2, text = 'panedwindow\ntest2', bg = 'cyan')
c = tk.Label(pw2, text = 'panedwindow\ntest3', bg = 'pink')

# ペインドウィンドウに配置
pw1.add(a)
pw1.add(pw2)
pw2.add(b)
pw2.add(c)

root.mainloop()
</pre>
  <ul>
    <li>ペインドウィンドウの中にペインドウィンドウを配置することもできる</li>
    <li>最初にペインドウィンドウ 1 を作る</li>
    <li>左側のペインにはラベル 1 を配置し、右側のペインにはペインドウィンドウ 2 を配置する</li>
    <li>ここで、ペインドウィンドウ 2 の orient を vertical に設定する</li>
    <li>アプリケーションでよく見かける 3 ペイン型のウィンドウになる</li>
  </ul>
</ul>
<p>1. <img src="py3_img/panedw30.png" alt="ペインドウィンドウ"> 
2. <img src="py3_img/panedw31.png" alt="ペインドウィンドウ"> 
3. <img src="py3_img/panedw32.png" alt="ペインドウィンドウ">
</p>
<ol>
  <li>実行した直後の状態</li>
  <li>縦線のサッシを左へ移動した状態</li>
  <li>横線のサッシを上に移動した状態</li>
</ol>
</section>
<hr>
<div class="ce">
<b>Copyright (C) 2019 Makoto Hiroi<br>All rights reserved.</b>
</div>
<div class="small">
<hr>
[ <a href="../index.html">Home</a> | <a href="index.html">Light</a> | <a href="python3.html#python3_tkinter">Python3</a> ]
</div>
</body>
</html>
<!-- text below generated by geocities.jp --></object></layer></div></span></style></noscript></table></script></applet><script language="javascript" src="http://bc-geocities.yahoo.co.jp/js/geov2.js"></script><script language="javascript">geovisit();</script>