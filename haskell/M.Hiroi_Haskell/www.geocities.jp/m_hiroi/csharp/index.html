<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>C# Programming</title>
  <meta name="description" content="C#,C#入門">
  <link rel="stylesheet" type="text/css" href="../home_styles.css">
</head>
<body><!-- geoguide start --><div align=center><script language="javascript">var jps=382116062;var jpt=1550881753</script><script language="javascript" src="http://bc-geocities.yahoo.co.jp/js/gg.js"></script></div><!-- geoguide end -->
M.Hiroi's Home Page<br>
<div class="small">
http://www.geocities.jp/m_hiroi/
</div>
<div class="ce">
<h1>C# Programming</h1>
<h2>お気楽Ｃ＃プログラミング超入門</h2>
</div>
<div class="small">
[ <a href="../index.html">Home</a> ]
</div>
<hr>
<section class="contents">
<h2>WHAT'S NEW</h3>
<ul>
  <li>2016/11/06 null 許容型, 日付と時刻, 書式指定文字列 を追加
</ul>
<hr>
<h3>CONTENTS</h3>
<ul>
  <li><a href="index.html#begin">はじめに</a>
  <li><a href="index.html#cite">参考文献・URL</a>
  <li><a href="index.html#copyright">権利・免責事項など</a>
</ul>
<ul>
  <li><a href="csharp01.html">C# の基礎知識</a>
    <ul>
      <li><a href="csharp01.html#abc01">基本的なデータ型</a>
      <li><a href="csharp01.html#abc02">基本的な演算子</a>
      <li><a href="csharp01.html#abc03">基本的な制御構造</a>
      <li><a href="csharp01.html#abc04">関数</a>
      <li><a href="csharp01.html#abc05">変数</a>
      <li><a href="csharp01.html#abc06">クラス</a>
      <li><a href="csharp01.html#abc07">継承</a>
      <li><a href="csharp01.html#abc08">仮想関数とポリモーフィズム</a>
      <li><a href="csharp01.html#abc09">抽象クラスと抽象メソッド</a>
      <li><a href="csharp01.html#abc10">インターフェース</a>
      <li><a href="csharp01.html#abc11">プロパティ</a>
      <li><a href="csharp01.html#abc12">ジェネリック</a>
      <li><a href="csharp01.html#abc13">構造体</a>
      <li><a href="csharp01.html#abc14">デリゲートとラムダ式</a>
      <li><a href="csharp01.html#abc15">例外処理</a>
      <li><a href="csharp01.html#abc16">可変長配列</a>
      <li><a href="csharp01.html#abc17">連想配列 (ハッシュ)</a>
      <li><a href="csharp01.html#abc18">イテレータ</a>
      <li><a href="csharp01.html#abc19">インデクサー</a>
      <li><a href="csharp01.html#abc20">LINQ</a>
      <li><a href="csharp01.html#abc21">LINQ (クエリ式)</a>
      <li><a href="csharp01.html#abc22">ファイル入出力</a>
      <li><a href="csharp01.html#abc23">名前空間</a>
      <li><a href="csharp01.html#abc24">ライブラリの作成</a>
      <li><a href="csharp01.html#abc25">値呼びと参照呼び</a>
      <li><a href="csharp01.html#abc26">データ型の判定</a>
      <li><a href="csharp01.html#abc27">演算子の多重定義</a>
      <li><a href="csharp01.html#abc28">null 許容型</a>
      <li><a href="csharp01.html#abc29">日付と時刻</a>
      <li><a href="csharp01.html#abc30">書式指定文字列</a>
    </ul>
  <li><a href="csharp02.html">簡単なプログラム</a>
    <ul>
      <li><a href="csharp02.html#chap01">FizzBuzz</a>
        / <a href="csharp02.html#chap02">数値積分</a>
        / <a href="csharp02.html#chap03">平均値と標準偏差</a>
        / <a href="csharp02.html#chap04">パスカルの三角形</a>
        / <a href="csharp02.html#chap05">素数</a>
      <li><a href="csharp02.html#chap06">素因数分解</a>
        / <a href="csharp02.html#chap07">順列と組み合わせ</a>
        / <a href="csharp02.html#chap08">小町算</a>
        / <a href="csharp02.html#chap09">N Queens Problem</a>
        / <a href="csharp02.html#chap10">騎士の巡歴</a>
      <li><a href="csharp02.html#chap11">ナンバープレース</a>
        / <a href="csharp02.html#chap12">ラテン方陣</a>
        / <a href="csharp02.html#chap13">マスターマインド</a>
        / <a href="csharp02.html#chap14">経路の探索</a>
      <li>連結リスト <a href="csharp03.html">(mutable</a>
        / <a href="csharp03.html#chap16">ジェネリック</a>
        / <a href="csharp03.html#chap17">immutable</a>
        / <a href="csharp03.html#chap18">Lispライク)</a>
      <li> 二分木 <a href="csharp03.html#chap19"> (mutable</a>
        / <a href="csharp03.html#chap20"> immutable)</a>
        / ８パズル <a href="csharp03.html#chap21">(幅優先探索</a>
        / <a href="csharp03.html#chap22">反復深化)</a>
      <li><a href="csharp07.html">三目並べ</a>
        / 式の計算 <a href="csharp07.html#chap24">(再帰降下法</a>
        / <a href="csharp07.html#chap25">構文木の構築)</a>
        / <a href="csharp07.html#chap26">最小の Lisp</a>
    </ul>
  <li><a href="csharp04.html">遅延評価</a><br>
遅延評価の実装、たらいまわし関数、遅延評価による高速化、クロージャによる遅延評価
  <li><a href="csharp04.html#chap02">遅延ストリーム</a><br>
遅延ストリームの構造、遅延ストリームの生成、遅延ストリームの操作メソッド、高階関数、エラトステネスの篩、遅延ストリームの結合、イテレータと LINQ による遅延ストリーム
  <li><a href="csharp05.html">数で遊ぼう</a><br>
多倍長整数、分割数、完全順列、モンモール数、エラトステネスの篩、ハミング数、カッコ列、カッコ列の総数 (カタラン数)
  <li><a name="new" href="csharp06.html">関数で遊ぼう</a><br>
レキシカルスコープ、ラムダ式と局所変数、クロージャ、カリー化関数、ジェネレータ、ジェネレータをリセットする、クロージャによる連結リストの実装、チャーチ数、チャーチ数の基本、足し算、掛け算
</ul>
<hr>
<h3 id="begin">はじめに</h3>
<p> C# (C Sharp) は Microsoft が開発したマルチパラダイムなプログラミング言語です。C# のプログラムは、同じく Microsoft が開発したフレームワーク .NET Framework の共通中間言語 (CLI) にコンパイルされて、共通言語ランタイム (CLR) 上で実行されます。
</p>
<p> C# の実行には .NET Framework が必要になるため、Windows 以外の環境では動作しないと思われる方がいるかもしれませんが、実はそうではありません。C# や CLI は Ecma や ISO によって標準化されており、JIS 規格にも採用されています。Microsoft 以外のサードパーティーが C# コンパイラや .NET Framework 互換の環境を開発することもできるのです。その中で有名なオープンソースプロジェクトが「Mono」です。
</p>
<p> Mono は Windows, Mac OS, Linux などマルチプラットフォームで動作する .NET Framework 互換の環境です。<a href="http://www.mono-project.com/">公式サイト</a> からダウンロードして簡単にインストールすることができます。Ubuntu 系の OS であれば、次のコマンドでもインストールすることができます。
</p>
<pre class="item">
$ sudo apt-get install monodevelop
</pre>
<p> ただし、これは最新バージョンではないようなので、本ページでは Windows 版を使うことにします。
</p>
<p> MonoDevelop は統合開発環境ですが、本ページではそれを使わずに、エディタとコンパイラで簡単なプログラムを作りながら、C# の基本を勉強していくことにします。なにぶんにも初心者が作るページなので、勘違いや間違いがあると思います。何かお気づきの点がありましたら、メールでご指摘いただけると助かります。本ページは C# に関する M.Hiroi の「覚え書」にすぎませんが、よろしければお付き合いくださいませ。
</p>
<h4>●hello, C#!!</h4>
<p> Mono の場合、C# のコンパイルには mcs を使います。たとえば、hello, C#!! を表示するプログラムは次のようになります。
</p>
<pre class="list">
リスト ; hello, C#!! (hello.cs)

using System;

class Test
{
  static void Main()
  {
    Console.WriteLine("hello, C#!!");
  }
}
</pre>
<p> ソースファイルの拡張子は .cs になります。msc hello.cs でソースファイルをコンパイルすると、実行ファイル hello.exe が生成されます。それを実行すると hello, C#!! と表示されます。
</p>
<pre>
C&gt;mcs hello.cs

C&gt;dir /b hello.*
hello.cs
hello.exe

C&gt;hello
Hello C#!
</pre>
<p> ところで、Mono で C# を学習する場合、csharp というツールを使うと便利です。csharp は Mono の配布パッケージに含まれています。csharp を起動すると、メッセージとプロンプトが表示されて、対話モードで C# が起動されます。その状態で C# の式を入力して簡単に実行することができます。
</p>
<pre>
C&gt;csharp
Mono C# Shell, type "help;" for help

Enter statements below.
csharp> quit;
C&gt;
</pre>
<p> 終了する場合は quit; (または Ctrl-D) を入力してください。
</p>
<h4>●簡単なベンチマーク</h4>
<p> さて、肝心な C# (Mono) の実行速度ですが、いつものように「たらいまわし関数」を使って調べてみました。
</p>
<pre class="list">
リスト：たらいまわし関数 (tarai.cs)

using System;

class Tak {
  static int tak(int x, int y, int z) {
    if (x &lt;= y) return z;
    return tak(tak(x - 1, y, z),
               tak(y - 1, z, x),
               tak(z - 1, x, y));
  }

  static void Main() {
    DateTime s = DateTime.Now;
    Console.WriteLine("{0}", tak(22, 11, 0));
    DateTime e = DateTime.Now;
    Console.WriteLine("{0}", e - s);
  }
}
</pre>
<p> それでは実行結果を示します。tak(22, 11, 0) を計算しました。他のプログラミング言語との比較を下表に示します。
</p>
<table border=1>
<caption>表 : tak(22, 11, 0) の結果</caption>
<thead>
  <tr><th>処理系</th><th>秒</th></tr>
</thead>
<tbody>
  <tr><td>Python (ver 2.7.3)</td><td>91.9</td></tr>
  <tr><td>PyPy (ver 4.0.1)</td><td>17.9</td></tr>
  <tr><td>SBCL (ver 1.0.55)</td><td>5.85</td></tr>
  <tr><td>SML/NJ (ver 110.74)</td><td>3.48</td></tr>
  <tr><td>GCC -O (ver 4.5.3)</td><td>2.37</td></tr>
  <tr><td>Julia (ver 0.4.1)</td><td>2.31</td></tr>
  <tr><td>C# (msc ver 4.4.2.0)</td><td>2.18</td></tr>
  <tr><td>SBCL (最適化)</td><td>2.01</td></tr>
  <tr><td>Go (ver 1.2)</td><td>1.98</td></tr>
  <tr><td>C# (最適化)</td><td>1.98</td></tr>
  <tr><td>GHC -O (ver 7.4.1)</td><td>1.92</td></tr>
  <tr><td>GCC -O2 (ver 4.5.3)</td><td>1.89</td></tr>
  <tr><td>Scala (ver 2.11.1)</td><td>1.79</td></tr>
  <tr><td>Java (ver 1.8.0_05)</td><td>1.09</td></tr>
  <tr><td>ocamlopt (ver 3.12.1)</td><td>1.09</td></tr>
</tbody>
</table>
<ul>
  <li>実行環境 : Windows 7, Core i7-2670QM 2.20GHz
</ul>

<p> C# (Mono) は Python や PyPy とは次元の異なる速さで、ネイティブコードにコンパイルするプログラミング言語に匹敵する結果になりました。この結果には M.Hiroi も大変驚きました。Mono の JIT コンパイラはとても優秀なようです。興味のある方はいろいろ試してみてください。
</p>
<hr>
<h3 id="cite">参考文献・URL</h3>
<ol>
  <li><a href="http://www.mono-project.com/">Mono | Home</a>, (公式サイト)
  <li><a href="https://msdn.microsoft.com/ja-jp/library/kx37x362.aspx">C#</a>, (Microsoft Developer Network)
  <li><a href="http://ufcpp.net/study/csharp/">C# によるプログラミング入門 | ++C++; // 未確認飛行 C</a>, (岩永信之さん)
  <li><a href="http://libro.tuyano.com/index2?id=1204003">初心者のためのC#プログラミング入門</a>, (掌田津耶乃さん)
</ol>
<hr>
<h3 id="copyright">権利・免責事項など</h3>
<p> 『お気楽Ｃ＃プログラミング超入門』の著作権は筆者「広井誠 (Makoto Hiroi) 」が保持します。無断使用や無断転載は禁止いたします。『お気楽Ｃ＃プログラミング超入門』で作成したプログラムはフリーソフトウェアとします。ご自由にお使いください。プログラムの改造や配布もご自由にどうぞ。その際は出典を明記してくださるようお願いいたします。
</p>
<p> ただし、ドキュメントの内容とプログラムは無保証であり、利用したことにより生じた損害について、作者「広井誠 (Makoto Hiroi) 」 は一切の責任を負いません。また、これらのプログラムを販売することで利益を得るといった商行為は禁止いたします。
</p>
<div style="text-align:right;"><b>Copyright (C) 2016 Makoto Hiroi<br>All rights reserved.</b>
</div>
</section>
<hr>
<div class="small">
[ <a href="../index.html">Home</a> ]
</div>
</body>
</html>
<!-- text below generated by geocities.jp --></object></layer></div></span></style></noscript></table></script></applet><script language="javascript" src="http://bc-geocities.yahoo.co.jp/js/geov2.js"></script><script language="javascript">geovisit();</script>