<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Linux Programming / お気楽Ｃ++プログラミング超入門</title>
  <meta name="description" content="Ｃ++,入門,Linux Programming">
  <link rel="stylesheet" type="text/css" href="../home_styles.css">
</head>
<body><!-- geoguide start --><div align=center><script language="javascript">var jps=382116062;var jpt=1550881753</script><script language="javascript" src="http://bc-geocities.yahoo.co.jp/js/gg.js"></script></div><!-- geoguide end -->
M.Hiroi's Home Page
<div class="small">
http://www.geocities.jp/m_hiroi/
</div>
<div class="ce">
<h1>Linux Programming</h1>
<h2>お気楽Ｃ++プログラミング超入門</h2>
</div>
<div class="small">
[ <a href="../index.html">Home</a> | <a href="index.html">Linux</a> ]
<hr>
</div>
<section class="contents">

<h2>WHAT'S NEW</h3>
<ul>
  <li>2015/11/29 <a href="cpp.html#new">多重継承</a> を追加
  <li>2015/11/28 タプル (tuple), Yet Another C++ Problems (7) を追加
</ul>
<hr>
<h2>お気楽Ｃ++プログラミング超入門</h2>
<h3>CONTENTS</h3>
<ul>
  <li>2015/08/02 <a href="cpp.html#begin">はじめに</a>
  <li>2015/08/02 <a href="cpp.html#cite">参考文献, URL</a>
  <li>2015/08/02 <a href="cpp.html#copyright">権利・免責事項など</a>
</ul>
<ul>
  <li>2015/08/02 <a href="cpp01.html">Ｃ++の基礎知識 (1)</a><br>
こんにちはＣ++、数と四則演算、局所変数と大域変数、文字と文字列、if 文、比較演算子と論理演算子、三項演算子、while 文による繰り返し、インクリメント演算子とデクリメント演算子、FizzBizz 問題、数値積分
  <li>2015/08/02 <a href="cpp02.html">Ｃ++の基礎知識 (2)</a><br>
配列、for 文、範囲 for 文、繰り返しの制御、パスカルの三角形、素数を求める、エラトステネスの篩、素因数分解、switch 文
  <li>2015/08/09 <a href="cpp03.html">関数</a><br>
関数の基礎知識、関数の定義方法、局所変数と大域変数、局所変数の定義と有効範囲、デフォルト引数、関数の多重定義、多重定義の曖昧さ、整数の和、累乗の計算、素数を求める (2)、平方根の計算、平方根の整数部分を求める、めのこ平方
  <li>2015/08/09 <a href="cpp04.html">再帰定義</a><br>
再帰定義の基本、再帰定義のポイント、ユークリッドの互除法、相互再帰と関数プロトタイプ、末尾再帰と繰り返し、めのこ平方の改良、順列の生成、<a href="cpp04.html#appendix">Appendix: 末尾最適化</a>
  <li>2015/08/16 <a href="cpp05.html">ポインタ (前編)</a><br>
メモリの構成、ポインタの基本、ポインタの利点と欠点、配列とポインタ、Ｃスタイル文字列、値呼びと参照呼び、関数にポインタを渡す
  <li>2015/08/16 <a href="cpp06.html">ポインタ (後編)</a><br>
参照 (リファレンス)、配列と関数、多段階のポインタ、ポインタ配列、関数へのポインタ、typedef でデータ型に別名を付ける、void ポインタ、qsort と bsearch、<a href="cpp06.html#appendix">Appendix: 参照呼び</a>
  <li>2015/08/22 <a href="cpp07.html">Ｃ++のメモリアロケーション</a><br>
スタックとは？、関数呼び出しとスタックの関係、局所変数とスタックの関係、スタック領域について、動的メモリ割り当て、new と delete、簡単な使用例
  <li>2015/08/23 <a href="cpp08.html">Yet Another C++ Problems</a><br>
九九表、度数分布表と累積度数表、平均値と標準偏差、累乗 (再帰定義版)、フィボナッチ関数、組み合わせの数、順列、重複順列、組み合わせ、重複組み合わせ
  <li>2015/08/29 <a href="cpp09.html">Yet Another C++ Problems (2)</a><br>
配列の線形探索、最大値と最小値、重複要素の削除、部分集合と等値の判定、和集合、積集合、差集合、マージ、バブルソート、選択ソート、挿入ソート
  <li>2015/08/30 <a href="cpp10.html">ソート</a><br>
シェルソート、クイックソート、クイックソートの欠点、マージソート
  <li>2015/08/30 <a href="cpp10.html#chap02">構造体</a><br>
構造体の定義、構造体の使い方、構造体とポインタ、構造体と配列、共用体、無名の構造体/共用体
  <li>2015/09/05 <a href="cpp11.html">オブジェクト指向の基礎知識 (前編)</a><br>
オブジェクトとは？、クラスとインスタンス、メソッド、Ｃ++のクラス、インスタンスとメンバ変数、メンバ関数、コンストラクタ、初期化と代入の違い、Point クラス、Point3d クラス
  <li>2015/09/06 <a href="cpp12.html">オブジェクト指向の基礎知識 (後編)</a><br>
変換コンストラクタ、クラスと配列、デストラクタ、コピーコンストラクタ、演算子の多重定義、代入演算子の多重定義、変換演算子、静的メンバ変数、静的メンバ関数、有理数 (分数)
  <li>2015/09/12 <a href="cpp13.html">継承</a><br>
継承とは？、単一継承、多重継承、継承の仕組み、単一継承の使い方、オーバーライド、データ型の継承、仮想関数とポリモーフィズム、仮想デストラクタ、純粋仮想関数と抽象クラス、キャストとポリモーフィズム
  <li>2015/09/13 <a href="cpp14.html">例外処理</a><br>
例外の捕捉、例外の送出、大域脱出、例外クラス、例外クラスの定義、例外処理とデストラクタ
  <li>2015/09/13 <a href="cpp14.html#chap02">ベクタクラスの作成</a><br>
ベクタクラスの定義、メンバ関数の定義、簡単な実行例、イテレータ、内部クラス、クラス Iterator の定義、簡単な実行例 (2)、高階関数によるアクセス、関数オブジェクト、ジェネレータ
  <li>2015/09/19 <a href="cpp15.html">連結リスト</a><br>
連結リストの構造、クラスの定義、作業用の静的メンバ関数、データの取得と更新、データの挿入、データの削除、データのクリア、コピーコンストラクタと代入演算子、イテレータ、ジェネレータ、高階関数、実行例、分割コンパイル、ヘッダファイルの定義、実行ファイルの作成
  <li>2015/09/20 <a href="cpp16.html">二分探索木</a><br>
木構造、二分木、節の定義、データの探索、データの挿入、データの削除、最小値の探索と削除、データ削除のプログラム、巡回 (traverse)、節のコピーと廃棄、クラス IntTree とメンバ関数の定義、イテレータ、ジェネレータ、簡単なテスト
  <li>2015/09/23 <a href="cpp17.html">テンプレートの基礎知識</a><br>
テンプレートの定義、クラステンプレート、関数テンプレート、Pair の作成、テンプレートのデフォルト引数、テンプレートの特殊化、テンプレートの部分特殊化、テンプレート関数の特殊化、テンプレートと高階関数、イテレータと高階関数

  <li>2015/09/26 <a href="cpp18.html">標準ライブラリの基礎知識 (vector 編)</a><br>
vector とは？、データの追加と取り出し、Ｃ++のイテレータ、vector のイテレータ、データの挿入と削除、algorithm の関数、データの探索、ソート、畳み込み、二次元配列、インスタンスを格納するときの注意点
  <li>2015/09/27 <a href="cpp19.html">標準ライブラリの基礎知識 (list 編)</a><br>
双方向リストとは？、list の宣言と初期化、データの追加と取り出し、list のイテレータ、データの挿入と削除、リスト操作に適した関数、リストのマージ
  <li>2015/09/27 <a href="cpp19.html#chap02">標準ライブラリの基礎知識 (map 編)</a><br>
連想配列とは？、map の宣言と初期化、map のイテレータ、データの探索、データの挿入、データの削除、テンプレートで比較関数を指定する
  <li>2015/10/04 <a href="cpp20.html">キュー</a><br>
キューとは？、リングバッファによるキューの実装、クラス Queue の定義、データの挿入、データの取り出し、実行例、ディーキュー (deque)、ディーキューの定義、データの挿入、データの削除、データの参照、添字演算子の多重定義、簡単なテスト、コンテナ deque の使い方、アダプタ queue の使い方
  <li>2015/10/10 <a href="cpp21.html">右辺値参照</a><br>
左辺値と右辺値、右辺値参照、所有権の移動、ムーブコンストラクタとムーブ代入演算子、コンテナクラスとムーブ代入演算子、Emplacement
  <li>2015/10/10 <a href="cpp21.html#chap02">スマートポインタ</a><br>
スマートポインタとは？、unique_ptr の基本的な使い方、配列を所持する方法、コンテナクラスに unique_ptr を格納する、その他のメンバ関数
  <li>2015/10/11 <a href="cpp22.html">Yet Another C++ Problems (3)</a><br>
シーケンス (列) とは？、最大値と最小値、シーケンスの線形探索と高階関数版、マッピング、要素の削除、畳み込み、any と every、iota と tabulate、要素の置換、連想リスト
  <li>2015/10/12 <a href="cpp23.html">経路の探索</a><br>
グラフ、隣接行列と隣接リスト、バックトラックによる探索、幅優先探索、経路の管理、幅優先探索のプログラム、反復深化、反復深化のプログラム
  <li>2015/10/17 <a href="cpp24.html">Yet Another C++ Problems (4)</a><br>
順列、組み合わせ、べき集合の生成、ハノイの塔、小町算、大町算、覆面算、魔方陣、8 クイーン、騎士の巡歴
  <li>2015/10/18 <a href="cpp25.html">Yet Another C++ Problems (5)</a><br>
水差し問題、ペグソリティア (Hoppers)、マスターマインド、水差し問題の解法、容器の操作、操作手順の管理、幅優先探索のプログラム、実行結果、Hoppers の解法、実行結果、マスターマインドの解法、プログラムの作成、何回であたるか

  <li>2015/10/24 <a href="cpp26.html">ラムダ式</a><br>
ラムダ式の構文、レキシカルスコープ、局所変数のキャプチャ、クロージャ、ジェネレータ
  <li>2015/10/24 <a href="cpp26.html#chap02">ベクタクラスの作成 (テンプレート編)</a><br>
Vector クラスの定義、メンバ関数の定義、イテレータの定義、簡単なテスト
  <li>2015/10/25 <a href="cpp27.html">連結リスト (テンプレート編)</a><br>
セル Cell と連結リスト List の定義、メンバ関数の定義、イテレータの定義、簡単なテスト
  <li>2015/10/25 <a href="cpp27.html#chap02">二分探索木 (テンプレート編)</a><br>
節 Node と二分木 Tree の定義、イテレータの定義、簡単なテスト
  <li>2015/11/01 <a href="cpp28.html">ファイル入出力</a><br>
標準入出力の使い方、ifstream と ofstream、改行文字の取り扱い、コマンドライン引数の取得、read() と write()、マニュピレータ、整数の入出力、浮動小数点数の出力、文字列ストリーム、ファイルを行単位で連結する
  <li>2015/11/07 <a href="cpp29.html">文字列 (string)</a><br>
string の宣言と初期化、要素のアクセス、string のイテレータ、文字列の連結、文字列の挿入、文字列の削除、文字列の探索、文字列の置換、部分文字列の取得、Ｃスタイル文字列への変換
  <li>2015/11/07 <a href="cpp29.html#chap02">Yet Another C++ Problems (6)</a><br>
ファイルの文字数と行数を求める、ファイルから文字列を探す、文字の置換、文字列の置換、単語のカウント、タブの展開、空白文字をタブに置換
  <li>2015/11/08 <a href="cpp30.html">整数の論理演算とビット操作</a><br>
ビット演算子、組み合わせの生成、組み合わせに番号を付ける、組み合わせを番号に変換、番号を組み合わせに変換、ちょっと便利なビット操作、ビットが 1 の個数を求める
  <li>2015/11/08 <a href="cpp30.html#chap02">N Queens Problem</a><br>
単純な解法の問題点、無駄を省く、実行結果 (1)、プログラムの改良、実行結果 (2)、ビット演算による高速化、実行結果 (3)
  <li>2015/11/14 <a href="cpp31.html">unordered_map</a><br>
ハッシュ法の仕組み、チェイン法、オープンアドレス法、データの挿入と探索、データの削除、オープンアドレス法の問題点、unordered_map の使い方、unoredered_map のイテレータ、データの探索、データの挿入、データの削除、ハッシュ関数と叙述関数の設定
  <li>2015/11/15 <a href="cpp32.html">スライドパズル</a><br>
パズルの説明 (8 パズル)、データ構造の定義、同一局面のチェック、幅優先探索による解法、実行結果、双方向探索、最長手数の求め方、プログラムの作成、実行結果 (2)

  <li>2015/11/21 <a <a href="cpp33.html">スライドパズル (2)</a><br>
反復深化による解法、実行結果、下限値枝刈り法、下限値枝刈り法のプログラム、手数の遇奇性、11 パズルの解法
  <li>2015/11/22 <a href="cpp34.html">ヒープ</a><br>
ヒープとは？、ヒープの構築 (1)、ヒープの再構築、ヒープの構築 (2)、優先度つき待ち行列、プログラムの作成、実行例、ヒープソート、priority_queue の使い方
  <li>2015/11/28 <a href="cpp35.html">タプル (tuple)</a><br>
タプルとは？、make_tuple() によるタプルの生成、タプルにポインタや参照を格納する、タプルの要素を取り出す、タプルで多値を返す
  <li>2015/11/28 <a href="cpp35.html#chap02">Yet Another C++ Problems (7)</a><br>
素因数分解、約数の個数、約数の和、約数を求める、完全数、友愛数、完全順列、モンモール数、カッコ列、カッコ列の総数 (カタラン数)
  <li>2015/11/29 <a name="new" href="cpp36.html">多重継承</a><br>
多重継承の使い方、メンバ変数の衝突、メンバ関数の衝突、仮想基底クラス、菱形継承とメンバ関数、菱形継承におけるメンバ関数の曖昧さ、Mix-in、Enumerable

</ul>
<hr>
<h3 id="begin">はじめに</h3>
<p> 『お気楽Ｃ++プログラミング超入門』は M.Hiroi が Linux でＣ++を学習するために作成したページです。昔々、M.Hiroi はＣ++を少しだけかじったことがありますが、難しくて歯がたちませんでした。その後ぜんぜん勉強していないので、今では初心者とまったく同じような状態です。そこで、簡単なプログラムを作りながら、少しずつＣ++の勉強を進めていきたいと思っております。なにぶんにも初心者が作るページなので、間違いがあるかもしれません。お気づきの点がありましたら、メールでご指摘いただけると助かります。たいしたことはできませんが、よろしければお付き合いくださいませ。
</p>

<h4>●Ｃ++とは？</h4>
<p> Ｃ++は 1982 年 AT&amp;T ベル研究所の Bjarn Stroustrup 氏によって開発された、Ｃ言語にオブジェクト指向機能を追加したプログラミング言語です。現在、最も多く利用されているプログラミング言語の一つです。オブジェクト指向だけではなく、テンプレートによるジェネリック・プログラミングなどもサポートされています。
</p>
<p> Ｃ++は度重なる機能追加により、その言語仕様はとても複雑になってしまいました。このため、初心者がオブジェクト指向を学ぶには適していないと言われています。M.Hiroi はシンプルな言語を好むので、Ｃ++は難しい言語だと思っております。まあ、Ｃ++はなんでもできるプログラミング言語、いわゆるプロフェッショナルツールなので、M.Hiroi のようなちょっと勉強しただけの初心者では歯がたたないのかもしれません。
</p>

<h4>●g++ と clang++</h4>
<p> Unix 系 OS で利用できるＣ++コンパイラでは、Free Software Foundation が開発している g++ が有名です。Debian 系の OS であれば、次のコマンドで g++ をインストールすることができます。
</p>
<pre class="item">
sudo apt-get intstall g++
</pre>
<pre>
mhiroi@mhiroi-VirtualBox:~/cpp$ g++ --version
g++ (Ubuntu 4.9.1-16ubuntu6) 4.9.1
Copyright (C) 2014 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
</pre>
<p> 最近は Clang というコンパイラも使われるようになってきました。M.Hiroi は Clang に興味があるので、本稿ではＣ++コンパイラに Clang を使ってＣ++の学習を進めることにします。Debian 系の OS であれば、次のコマンドで Clang をインストールすることができます。Ｃコンパイラ (clang) といっしょにＣ++コンパイラ (clang++) もインストールされます。
</p>
<pre class="item">
sudo apt-get intstall clang
</pre>
<pre>
mhiroi@mhiroi-VirtualBox:~/cpp$ clang++ --version
Ubuntu clang version 3.5.0-4ubuntu2 (tags/RELEASE_350/final) (based on LLVM 3.5.0)
Target: i386-pc-linux-gnu
Thread model: posix
</pre>
<p> コマンドは g++ のかわりに clang++ を使います。なお、Clang は Cygwin でも利用することができます。setup.exe で簡単にインストールすることができるので、Cygwin ユーザーで興味のある方は試してみてください。
</p>

<h4>●たらいまわし関数</h4>
<p> それでは、お馴染みの「たらいまわし関数」を使って、g++ と clang++ の実行時間を計測してみましょう。Ｃ++の場合、たらいまわし関数は次のようになります。</p>
<pre class="list">
リスト : たらいまわし関数 (tak.cpp)

#include &lt;iostream&gt;
using namespace std;

int tak(int x, int y, int z)
{
  if (x &lt;= y) {
    return z;
  } else {
    return tak(tak(x - 1, y, z), tak(y - 1, z, x), tak(z - 1, x, y));
  }
}

int main()
{
  cout &lt;&lt; tak(24, 12, 0) &lt;&lt; endl;
}
</pre>
<p> 時間計測はコマンド time を使います。time で時間を計測する場合、プログラムの起動時間も含まれることに注意してください。実行結果は次のようになりました。</p>
<pre>
mhiroi@mhiroi-VirtualBox:~/cpp$ clang++ -O2 -o tak tak.cpp
mhiroi@mhiroi-VirtualBox:~/cpp$ time ./tak
1

real       0m10.951s
user       0m10.932s
sys        0m0.000s
mhiroi@mhiroi-VirtualBox:~/cpp$ g++ -O2 -o takg tak.cpp
mhiroi@mhiroi-VirtualBox:~/cpp$ time ./takg
1

real       0m11.936s
user       0m11.904s
sys        0m0.004s
</pre>
<ul>
  <li>実行環境 : Lubuntu 14.10 on VirtualBox, Core i7-2670QM 2.20GHz
</ul>
<p> 最適化のオプションはどちらも -O2 を指定しました。clang++ のほうが少しだけ速いようです。興味のある方はいろいろ試してみてください。
</p>
<hr>
<h3 id="cite">参考文献, URL</h3>
<ol>
  <li> Bjarne Stroustrup (著), 『プログラミング言語Ｃ++ 第 3 版』, アジソンウェスレイ, 1998
  <li> Scott Meyers (著), 吉川邦夫 (訳), 『Effective C++ 改訂 2 版』, 株式会社アスキー, 1998
  <li>  Scott Meyers (著), 安村通晃,伊賀聡一郎, 飯田朱美 (訳), 『More Effective C++』, アジソンウェスレイ, 1998
  <li> Margret A. Ellis, Bjarne Stroustrup (著), 足立高徳, 小山裕司 (訳),『注釈Ｃ++リファレンスマニュアル』, アジソンウェスレイ・トッパン, 1992
  <li> Patrick Henry Winston (著), 鬼頭繁治 (訳), 『ウィンストンのＣ++』, アジソンウェスレイ, 1995
  <li> Ravi Sethi (著), 神林靖 (訳), 『プログラミング言語の概念と構造』, アジソンウェスレイ, 1995
  <li> <a href="http://ja.wikipedia.org/wiki/C%2B%2B">C++ - Wikipedia</a>
  <li> <a href="http://ja.wikipedia.org/wiki/C%2B%2B11">C++11 - Wikipedia</a>
  <li> <a href="http://cpprefjp.github.io/index.html">cpprefjp - C++日本語リファレンス</a>
</ol>
<hr>
<h3 id="copyright">権利・免責事項など</h3>
<p> 『お気楽Ｃ++プログラミング超入門』の著作権は筆者「広井誠 (Makoto Hiroi) 」が保持します。無断使用や無断転載は禁止いたします。『お気楽Ｃ++プログラミング超入門』で作成したプログラムはフリーソフトウェアとします。ご自由にお使いください。プログラムの改造や配布もご自由にどうぞ。その際は出典を明記してくださるようお願いいたします。
</p>
<p> ただし、ドキュメントの内容とプログラムは無保証であり、利用したことにより生じた損害について、作者「広井誠 (Makoto Hiroi) 」 は一切の責任を負いません。また、これらのプログラムを販売することで利益を得るといった商行為は禁止いたします。
</p>
<div style="text-align:right;"><b>Copyright (C) 2015 Makoto Hiroi<br>All rights reserved.</b>
</div>
</section>
<div class="small">
<hr>
[ <a href="../index.html">Home</a> | <a href="index.html">Linux</a> ]
</div>
</body>
</html>
<!-- text below generated by geocities.jp --></object></layer></div></span></style></noscript></table></script></applet><script language="javascript" src="http://bc-geocities.yahoo.co.jp/js/geov2.js"></script><script language="javascript">geovisit();</script>